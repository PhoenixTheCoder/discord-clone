(this["webpackJsonpdiscord-clone"]=this["webpackJsonpdiscord-clone"]||[]).push([[0],{118:function(e,n,t){},144:function(e,n,t){"use strict";t.r(n);var r,c,a,i,o,s,d,l,b,u,j,p,x,h,O,g,f,v,m,y,w,k,C,z,M,A,S,I,L,N,E,U,D,T,R,P,V,W,$,F,H,q,_,J,Y,B,X,G,K,Q,Z,ee,ne,te,re,ce,ae,ie,oe,se,de,le,be,ue,je,pe,xe,he,Oe,ge,fe,ve,me,ye,we,ke,Ce,ze,Me,Ae,Se,Ie,Le,Ne,Ee,Ue,De,Te=t(1),Re=t(43),Pe=t.n(Re),Ve=t(9),We=(t(118),t(26)),$e=t(10),Fe=t(4),He=t(178),qe=t(5),_e=t(12),Je=t(23),Ye=t(31),Be=t(18),Xe=t(176),Ge=t(2),Ke=["children"],Qe=Object(Be.a)((function(e){return Object(Ge.jsx)(Xe.a,Object(_e.a)({classes:{popper:e.className}},e))}))(r||(r=Object(Fe.a)(["\n  & .MuiTooltip-tooltip {\n    background-color: black;\n    color: white;\n    font-size: 14px;\n    padding: 10px;\n  }\n\n  & .MuiTooltip-arrow {\n    color: black;\n  }\n"]))),Ze=function(e){var n=e.children,t=Object(Je.a)(e,Ke);return Object(Ge.jsx)(Qe,Object(_e.a)(Object(_e.a)({},t),{},{arrow:!0,children:Object(Ge.jsx)("div",{children:n})}))},en=function(e){var n=e.w,t=e.h,r=void 0===t?n:t;return Object(qe.a)(c||(c=Object(Fe.a)(["\n  width: ",";\n  height: ",";\n"])),n,r)},nn=function(e){var n=e.color,t=e.size;return Object(qe.a)(a||(a=Object(Fe.a)(["\n  color: ",";\n  font-size: ",";\n"])),n||"var(--text-normal)",t||"1rem")},tn=function(e){var n=e.border;return Object(qe.a)(i||(i=Object(Fe.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border: ",";\n  ",";\n  ",";\n"])),n||"none",en,nn)},rn=function(e){var n=e.bgColor,t=e.bgColorOnHover;return Object(qe.a)(o||(o=Object(Fe.a)(["\n  border-radius: 50%;\n  background-color: ",";\n\n  ","\n"])),n,t&&Object(qe.a)(s||(s=Object(Fe.a)(["\n    transition: 0.3s;\n\n    &:hover {\n      background-color: bgColorOnHover;\n      border-radius: 16px;\n    }\n\n    ","\n  "])),(function(e){return e.isActive&&Object(qe.a)(d||(d=Object(Fe.a)(["\n        border-radius: 16px;\n      "])))})))},cn=function(e){var n=e.isActive;return Object(qe.a)(l||(l=Object(Fe.a)(["\n  color: ",";\n\n  &:hover {\n    color: var(--interactive-hover);\n  }\n"])),n?"var(--interactive-active)":"var(--channels-default)")},an=Object(qe.a)(b||(b=Object(Fe.a)(["\n  display: none;\n\n  @media (max-width: 768px) {\n    display: block;\n  }\n"]))),on=["children"],sn=qe.b.div(u||(u=Object(Fe.a)(["\n  position: absolute;\n  left: 0;\n  top: 0;\n  overflow: hidden;\n  width: 8px;\n  height: 48px;\n  display: flex;\n  align-items: center;\n"]))),dn=qe.b.div(j||(j=Object(Fe.a)(["\n  width: 8px;\n  height: ",";\n  margin-left: -4px;\n  border-radius: 0 4px 4px 0;\n  background-color: var(--header-primary);\n  transition: 0.2s;\n"])),(function(e){return e.isActive?"40px":"0"})),ln=Object(qe.a)(p||(p=Object(Fe.a)(["\n  color: ",";\n  background-color: ",";\n\n  &:hover {\n    background-color: var(--brand);\n  }\n"])),(function(e){return e.isActive?"white":"var(--text-normal)"}),(function(e){return e.isActive?"var(--brand)":"var(--background-primary)"})),bn=qe.b.div(x||(x=Object(Fe.a)(["\n  ",";\n  ",";\n  transition: 0.3s;\n  background-color: #faa519;\n\n  &:hover {\n    border-radius: 16px;\n  }\n\n  ","\n\n  &:hover + "," > "," {\n    height: ",";\n  }\n\n  ","\n"])),tn,rn,(function(e){return e.isActive&&Object(qe.a)(h||(h=Object(Fe.a)(["\n      border-radius: 16px;\n    "])))}),sn,dn,(function(e){return e.isActive?"40px":"24px"}),(function(e){return e.isDiscord&&ln})),un=function(e){var n=e.children,t=Object(Je.a)(e,on);return Object(Ge.jsx)(bn,Object(_e.a)(Object(_e.a)({size:"28px",w:"48px",color:"white"},t),{},{children:n}))},jn=qe.b.div(O||(O=Object(Fe.a)(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n"]))),pn=function(e){e.isActive;return Object(Ge.jsx)(sn,{children:Object(Ge.jsx)(dn,{isActive:!0})})},xn=qe.b.div(g||(g=Object(Fe.a)(["\n  background-color: var(--background-tertiary);\n  width: 72px;\n  overflow: hidden;\n  padding: 12px 0;\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  align-items: center;\n"]))),hn=function(){return Object(Ge.jsx)(xn,{children:Object(Ge.jsx)(jn,{children:Object(Ge.jsxs)(Ze,{title:"Sample Server",placement:"left",children:[Object(Ge.jsx)(un,{isActive:!0,isDiscord:!0,children:Object(Ge.jsx)(Ye.b,{})}),Object(Ge.jsx)(pn,{isActive:!0})]})})})},On=qe.b.div(f||(f=Object(Fe.a)(["\n  ",";\n  color: ",";\n  ",";\n"])),tn,(function(e){return e.color||"var(--text-muted)"}),(function(e){return e.bgColor&&rn})),gn=function(e){var n=Object.assign({},e);return Object(Ge.jsx)(On,Object(_e.a)(Object(_e.a)({},n),{},{children:Object(Ge.jsx)(Ye.d,{})}))},fn=t(64),vn=["status","onClick"],mn=qe.b.div(v||(v=Object(Fe.a)(["\n  ",";\n  ",";\n"])),tn,rn),yn=Object(qe.b)(mn)(m||(m=Object(Fe.a)(["\n  padding: 0.5px;\n  height: 16px;\n  width: 16px;\n  position: absolute;\n  right: -4px;\n  bottom: -4px;\n"]))),wn=qe.b.div(y||(y=Object(Fe.a)(["\n  position: relative;\n"]))),kn=function(){return Object(Ge.jsx)(yn,{color:"#3aa55d",bgColor:"var(--background-secondary-alt)",children:Object(Ge.jsx)(fn.b,{})})},Cn=function(e){var n=Object.assign({},e);return Object(Ge.jsx)(mn,Object(_e.a)(Object(_e.a)({color:"white"},n),{},{children:Object(Ge.jsx)(Ye.b,{})}))},zn=function(e){var n=e.status,t=e.onClick,r=Object(Je.a)(e,vn);return n?Object(Ge.jsxs)(wn,{onClick:t,children:[Object(Ge.jsx)(Cn,Object(_e.a)({},r)),Object(Ge.jsx)(kn,{})]}):Object(Ge.jsx)(Cn,Object(_e.a)({onClick:t},r))},Mn=["horizontal","gap","children"],An=qe.b.div(w||(w=Object(Fe.a)(["\n  display: flex;\n  flex-direction: ",";\n  gap: ",";\n"])),(function(e){return e.horizontal?"row":"column"}),(function(e){return e.gap})),Sn=function(e){var n=e.horizontal,t=e.gap,r=e.children,c=Object(Je.a)(e,Mn);return Object(Ge.jsx)(An,Object(_e.a)(Object(_e.a)({horizontal:n,gap:t},c),{},{children:r}))},In=["icon","text","isActive"],Ln=qe.b.span(k||(k=Object(Fe.a)(["\n  font-size: 15px;\n  font-weight: 500;\n  color: var(--channels-default);\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n"]))),Nn=qe.b.div(C||(C=Object(Fe.a)(["\n  display: flex;\n  align-items: center;\n  border-radius: 4px;\n\n  &:hover {\n    background-color: var(--background-modifier-hover);\n    cursor: pointer;\n  }\n\n  &:hover > "," {\n    color: var(--interactive-hover);\n  }\n\n  ","\n"])),Ln,(function(e){return e.isActive&&Object(qe.a)(z||(z=Object(Fe.a)(["\n      &,\n      &:hover {\n        background-color: var(--background-modifier-selected);\n      }\n\n      & > ",", &:hover > "," {\n        color: var(--interactive-active);\n      }\n    "])),Ln,Ln)})),En=function(e){var n=e.icon,t=e.text,r=e.isActive,c=Object(Je.a)(e,In);return Object(Ge.jsxs)(Nn,Object(_e.a)(Object(_e.a)({isActive:r},c),{},{children:[Object(Ge.jsx)(Ge.Fragment,{children:n}),t&&Object(Ge.jsx)(Ln,{isActive:r,className:"disable-select",children:t})]}))},Un=t(8),Dn=function(){var e=Object(Te.useState)(0),n=Object(Un.a)(e,2),t=n[0],r=n[1];return Object(Te.useLayoutEffect)((function(){function e(){r(window.innerWidth)}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),t},Tn=function(){var e=Object(Ve.c)((function(e){return e.channels.loading})),n=Object(Ve.c)((function(e){return e.channels.active})),t=Object(Ve.c)((function(e){return e.channels.byId}));return!e&&t[n]},Rn=function(){var e=Object(Te.useState)(!1),n=Object(Un.a)(e,2),t=n[0],r=n[1],c=Object(Te.useState)(""),a=Object(Un.a)(c,2),i=a[0],o=a[1],s=Object(Te.useState)(null),d=Object(Un.a)(s,2),l=d[0],b=d[1];return[i,l,t,r,function(e,n){o(n),r(!0),b(e.currentTarget)},function(){o(""),r(!1),b(null)}]},Pn=t(16),Vn=t.n(Pn),Wn=t(32),$n=t(24),Fn=t(65),Hn=t.n(Fn),qn=Hn.a.create({baseURL:"/api/channels"}),_n=function(){var e=Object(Wn.a)(Vn.a.mark((function e(){return Vn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qn.get("/");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Jn=function(){var e=Object(Wn.a)(Vn.a.mark((function e(n){return Vn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qn.get("/".concat(n));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Yn=Object($n.b)("channels/loadChannels",function(){var e=Object(Wn.a)(Vn.a.mark((function e(n,t){var r,c;return Vn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.rejectWithValue,e.prev=1,e.next=4,_n();case 4:return c=e.sent,e.abrupt("return",c.data);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",r(e.t0.response));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(n,t){return e.apply(this,arguments)}}()),Bn=Object($n.c)({name:"channels",initialState:{byId:{},allIds:[],loading:!0,active:null},reducers:{setActiveChannel:function(e,n){e.active=n.payload}},extraReducers:function(e){e.addCase(Yn.pending,(function(e,n){e.loading=!0})).addCase(Yn.fulfilled,(function(e,n){e.byId={},e.allIds=[],e.loading=!1,n.payload.forEach((function(n){e.byId[n.id]=n,e.allIds.push(n.id)}))}))}}),Xn=Bn.actions.setActiveChannel,Gn=Bn.reducer,Kn=Object($n.c)({name:"sidebar",initialState:{isOpen:!1},reducers:{toggleSidebar:function(e,n){e.isOpen=!e.isOpen}}}),Qn=Kn.actions.toggleSidebar,Zn=Kn.reducer,et=qe.b.div(M||(M=Object(Fe.a)(["\n  width: 240px;\n  display: flex;\n  flex-direction: column;\n  text-overflow: ellipsis;\n"]))),nt=qe.b.div(A||(A=Object(Fe.a)(["\n  background-color: var(--background-secondary);\n  border-bottom: 1px solid var(--background-tertiary);\n  height: 48px;\n  flex: 0 0 auto;\n  display: flex;\n  align-items: center;\n  padding: 0 16px;\n"]))),tt=qe.b.h2(S||(S=Object(Fe.a)(["\n  font-size: 16px;\n  font-weight: 600;\n  color: var(--header-primary);\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n"]))),rt=qe.b.div(I||(I=Object(Fe.a)(["\n  background-color: var(--background-secondary);\n  flex: 1;\n  height: calc(100vh - 48px - 52px);\n  padding: 10px 2px 10px 8px;\n"]))),ct=qe.b.div(L||(L=Object(Fe.a)(["\n  background-color: var(--background-secondary-alt);\n  height: 52px;\n  flex: 0 0 auto;\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  padding: 0 8px;\n"]))),at=qe.b.div(N||(N=Object(Fe.a)(["\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  color: var(--header-primary);\n  font-weight: 600;\n  font-size: 14px;\n"]))),it=function(){var e=Object(Ve.b)();Object(Te.useEffect)((function(){e(Yn())}),[e]);var n=Object(Ve.c)((function(e){return e.session.user})),t=Object(Ve.c)((function(e){return e.channels})),r=Object(Ve.c)((function(e){return e.channels.active})),c=Dn()>768;return Object(Ge.jsxs)(et,{className:"disable-select",children:[Object(Ge.jsx)(nt,{children:Object(Ge.jsx)(tt,{children:"Sample Server"})}),Object(Ge.jsx)(rt,{className:"scrollable",children:Object(Ge.jsx)(Sn,{gap:"2px",children:!t.loading&&t.allIds.map((function(n){return Object(Ge.jsx)(We.b,{to:"/channels/".concat(n),onClick:function(){return!c&&e(Qn())},children:Object(Ge.jsx)(En,{icon:Object(Ge.jsx)(gn,{size:"20px"}),text:t.byId[n].name,style:{gap:"8px",padding:"8px 4px"},isActive:n===r})},n)}))})}),Object(Ge.jsxs)(ct,{children:[Object(Ge.jsx)(zn,{size:"21px",w:"32px",bgColor:n.avatarColor,status:"online"}),Object(Ge.jsx)(at,{children:n.username})]})]})},ot=qe.b.div(E||(E=Object(Fe.a)(["\n  display: flex;\n  flex: 0 0 auto;\n  height: 100vh;\n"]))),st=function(){return Object(Ge.jsxs)(ot,{children:[Object(Ge.jsx)(hn,{}),Object(Ge.jsx)(it,{})]})},dt=Object($n.c)({name:"memberList",initialState:{onlineUsers:[],isOpen:!1},reducers:{updateOnlineUsers:function(e,n){e.onlineUsers=n.payload},toggleMemberList:function(e,n){e.isOpen=!e.isOpen}}}),lt=dt.actions,bt=lt.updateOnlineUsers,ut=lt.toggleMemberList,jt=dt.reducer,pt=Hn.a.create({baseURL:"/api/users"}),xt=function(){var e=Object(Wn.a)(Vn.a.mark((function e(n){return Vn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pt.post("/login",n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),ht=function(){var e=Object(Wn.a)(Vn.a.mark((function e(n){return Vn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pt.post("/",n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Ot=Object($n.b)("session/login",function(){var e=Object(Wn.a)(Vn.a.mark((function e(n,t){var r,c;return Vn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.rejectWithValue,e.prev=1,e.next=4,xt(n);case 4:return c=e.sent,e.abrupt("return",c.data);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",r(e.t0.response.data));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(n,t){return e.apply(this,arguments)}}()),gt=Object($n.b)("session/signup",function(){var e=Object(Wn.a)(Vn.a.mark((function e(n,t){var r,c;return Vn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.dispatch,c=t.rejectWithValue,e.prev=1,e.next=4,ht(n);case 4:return e.abrupt("return",r(Ot(n)));case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",c(e.t0.response.data));case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(n,t){return e.apply(this,arguments)}}()),ft=Object($n.c)({name:"session",initialState:{isAuthenticated:!1,loading:!1,user:null,error:null},reducers:{connectSocket:function(e,n){},logout:function(e,n){e.isAuthenticated=!1,e.loading=!1,e.user=null,e.error=null}},extraReducers:function(e){e.addCase(Ot.pending,(function(e,n){e.loading=!0,e.isAuthenticated=!1})).addCase(Ot.fulfilled,(function(e,n){e.loading=!1,e.isAuthenticated=!0,e.user=n.payload,e.error=null})).addCase(Ot.rejected,(function(e,n){e.loading=!1,e.isAuthenticated=!1,e.user=null,e.error=n.payload})).addCase(gt.pending,(function(e,n){e.loading=!0})).addCase(gt.fulfilled,(function(e,n){e.loading=!1,e.error=null})).addCase(gt.rejected,(function(e,n){e.loading=!1,e.error=n.payload}))}}),vt=ft.actions,mt=vt.connectSocket,yt=vt.logout,wt=ft.reducer,kt=["children","href"],Ct=qe.b.div(U||(U=Object(Fe.a)(["\n  background-color: var(--background-primary);\n  border-bottom: 1px solid var(--background-tertiary);\n  height: 48px;\n  flex: 0 0 auto;\n  padding: 0 16px;\n  align-items: center;\n  display: flex;\n  justify-content: space-between;\n"]))),zt=qe.b.h2(D||(D=Object(Fe.a)(["\n  font-size: 16px;\n  font-weight: 600;\n  color: var(--header-primary);\n"]))),Mt=qe.b.button(T||(T=Object(Fe.a)(["\n  ",";\n  ",";\n  background-color: transparent;\n\n  ","\n"])),tn,cn,(function(e){return e.$isHamburger&&an})),At=function(e){var n=e.children,t=e.href,r=Object(Je.a)(e,kt),c=t?"a":"button",a="button"===c?"button":void 0;return Object(Ge.jsx)(Mt,Object(_e.a)(Object(_e.a)({as:c,type:a,href:t,size:"22px",w:"24px"},r),{},{children:n}))},St=function(){var e,n=Object(Ve.b)(),t=Object(Ve.c)((function(e){return e.memberList.isOpen})),r=Object(Ve.c)((function(e){return e.channels})),c=!r.loading&&(null===(e=r.byId[r.active])||void 0===e?void 0:e.name);return Object(Ge.jsxs)(Ct,{id:"header",className:"disable-select",children:[Object(Ge.jsxs)(Sn,{horizontal:!0,gap:"10px",children:[Object(Ge.jsx)(At,{onClick:function(){return n(Qn())},$isHamburger:!0,children:Object(Ge.jsx)(Ye.a,{})}),Object(Ge.jsxs)(Sn,{horizontal:!0,gap:"6px",style:{alignItems:"center"},children:[Object(Ge.jsx)(gn,{size:"22px",w:"24px"}),Object(Ge.jsx)(zt,{children:!r.loading&&c})]})]}),Object(Ge.jsxs)(Sn,{horizontal:!0,gap:"16px",children:[Object(Ge.jsx)(Ze,{title:"GitHub Repo",children:Object(Ge.jsx)(At,{href:"https://github.com/kingyiusuen/discord-clone",target:"blank",children:Object(Ge.jsx)(Ye.c,{})})}),Object(Ge.jsx)(Ze,{title:"".concat(t?"Hide":"Show"," Member list"),children:Object(Ge.jsx)(At,{onClick:function(){return n(ut())},isActive:t,children:Object(Ge.jsx)(Ye.f,{})})}),Object(Ge.jsx)(Ze,{title:"Logout",children:Object(Ge.jsx)(At,{onClick:function(){return n(yt())},children:Object(Ge.jsx)(Ye.e,{})})})]})]})},It=qe.b.button.attrs((function(e){return{type:"submit"}}))(R||(R=Object(Fe.a)(["\n  display: none;\n"]))),Lt=function(){return Object(Ge.jsx)(It,{})},Nt=qe.b.input(P||(P=Object(Fe.a)(["\n  border: 0;\n  border-radius: 8px;\n  background-color: var(--channeltextarea-background);\n  color: var(--text-normal);\n  font-size: 15px;\n  height: 44px;\n  outline: none;\n  padding-left: 14px;\n  width: 100%;\n\n  &::placeholder {\n    color: var(--text-muted);\n  }\n"]))),Et=Object($n.b)("chat/loadMessages",function(){var e=Object(Wn.a)(Vn.a.mark((function e(n,t){var r,c;return Vn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.rejectWithValue,e.prev=1,e.next=4,Jn(n);case 4:return c=e.sent,e.abrupt("return",c.data);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",r(e.t0.response));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(n,t){return e.apply(this,arguments)}}()),Ut=Object($n.c)({name:"chat",initialState:{messages:{byId:{},allIds:[],loading:!0},typingUser:null},reducers:{receiveNewMessage:function(e,n){var t=n.payload;e.messages.byId[t.id]=t,e.messages.allIds.push(t.id)},receiveEditedMessage:function(e,n){var t=n.payload;e.messages.byId[t.id]=t},receiveDeletedMessage:function(e,n){var t=n.payload;delete e.messages.byId[t.id],e.messages.allIds=e.messages.allIds.filter((function(e){return e!==t.id}))},sendMessage:function(e,n){},editMessage:function(e,n){},deleteMessage:function(e,n){},typing:function(e,n){},stopTyping:function(e,n){},updateTypingUser:function(e,n){e.typingUser=n.payload}},extraReducers:function(e){e.addCase(Et.pending,(function(e,n){e.messages.loading=!0})).addCase(Et.fulfilled,(function(e,n){e.messages.byId={},e.messages.allIds=[],e.messages.loading=!1,n.payload.forEach((function(n){e.messages.byId[n.id]=n,e.messages.allIds.push(n.id)}))}))}}),Dt=Ut.actions,Tt=(Dt.setActiveChannel,Dt.receiveNewMessage),Rt=Dt.receiveEditedMessage,Pt=Dt.receiveDeletedMessage,Vt=(Dt.updateOnlineUsers,Dt.updateTypingUser),Wt=Dt.editMessage,$t=Dt.sendMessage,Ft=Dt.deleteMessage,Ht=Dt.stopTyping,qt=Dt.typing,_t=Ut.reducer,Jt=qe.b.div(V||(V=Object(Fe.a)(["\n  background-color: var(--background-primary);\n  height: 68px;\n  padding: 0 16px;\n  flex: 0 0 auto;\n"]))),Yt=qe.b.form(W||(W=Object(Fe.a)([""]))),Bt=qe.b.span($||($=Object(Fe.a)(["\n  font-size: 12px;\n  font-weight: 500;\n  color: var(--text-normal);\n"]))),Xt=function(){var e=Object(Ve.b)(),n=Object(Ve.c)((function(e){return e.session.user})),t=Tn(),r=void 0,c=Object(Ve.c)((function(e){return e.chat.typingUser}));return Object(Ge.jsxs)(Jt,{children:[Object(Ge.jsxs)(Yt,{onSubmit:function(r){r.preventDefault();var c=r.target.content.value;""!==c&&(e($t({user:n,content:c,channelId:t.id})),r.target.reset())},children:[Object(Ge.jsx)(Nt,{type:"text",name:"content",placeholder:"Message #".concat(null===t||void 0===t?void 0:t.name),onKeyUp:function(t){13===t.keyCode?e(Ht(n)):(e(qt(n)),clearTimeout(r),r=setTimeout((function(){return e(Ht(n))}),2e3))}}),Object(Ge.jsx)(Lt,{})]}),Object(Ge.jsx)(Bt,{children:c&&"".concat(c.username," is typing...")})]})},Gt=t(177),Kt=t(96),Qt=t(91),Zt=["children"],er=qe.b.div(F||(F=Object(Fe.a)(["\n  background-color: var(--background-primary);\n  border-radius: 4px;\n  border: 1px solid var(--background-secondary);\n  transition: 0.1s ease-in-out;\n  height: 32px;\n  width: 64px;\n  position: absolute;\n  top: -16px;\n  right: 16px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  display: none;\n\n  &:hover {\n    box-shadow: 0 0 0 1px rgba(4, 4, 5, 0.15);\n  }\n"]))),nr=qe.b.div(H||(H=Object(Fe.a)(["\n  display: flex;\n  margin: 8px 0;\n  padding: 8px 16px 12px 0;\n  position: relative;\n\n  &:hover {\n    background-color: #32353a;\n\n    "," {\n      display: flex;\n    }\n  }\n"])),er),tr=qe.b.div(q||(q=Object(Fe.a)(["\n  margin: 0 16px;\n\n  &:hover {\n    cursor: pointer;\n  }\n"]))),rr=qe.b.div(_||(_=Object(Fe.a)(["\n  display: flex;\n  align-items: center;\n  padding-bottom: 4px;\n"]))),cr=qe.b.a(J||(J=Object(Fe.a)(["\n  color: var(--header-primary);\n  font-size: 14px;\n  font-weight: 500;\n  margin-right: 8px;\n\n  &:hover {\n    text-decoration: underline;\n    cursor: pointer;\n  }\n"]))),ar=qe.b.div(Y||(Y=Object(Fe.a)(["\n  color: var(--text-muted);\n  font-size: 12px;\n  cursor: default;\n"]))),ir=qe.b.div(B||(B=Object(Fe.a)(["\n  color: var(--text-normal);\n  font-size: 14px;\n"]))),or=qe.b.button(X||(X=Object(Fe.a)(["\n  ",";\n  ",";\n  background-color: transparent;\n\n  &:hover {\n    background-color: var(--background-modifier-hover);\n  }\n"])),tn,cn),sr=qe.b.span(G||(G=Object(Fe.a)(["\n  font-size: 12px;\n  color: var(--text-normal);\n\n  button {\n    background: transparent;\n    color: var(--text-link);\n    border: none;\n    font-size: 12px;\n\n    &:hover {\n      text-decoration: underline;\n    }\n  }\n"]))),dr=qe.b.div(K||(K=Object(Fe.a)(["\n  background-color: var(--background-primary);\n  color: var(--text-normal);\n  top: 50%;\n  left: 50%;\n  position: absolute;\n  transform: translateX(-50%) translateY(-50%);\n  width: 440px;\n  border-radius: 4px;\n  font-size: 15px;\n"]))),lr=qe.b.div(Q||(Q=Object(Fe.a)(["\n  padding: 16px;\n\n  h2 {\n    padding-bottom: 16px;\n  }\n"]))),br=qe.b.div(Z||(Z=Object(Fe.a)(["\n  background-color: var(--background-secondary);\n  border-radius: 4px;\n  text-align: right;\n  padding: 12px 16px;\n"]))),ur=qe.b.button(ee||(ee=Object(Fe.a)(["\n  color: white;\n  padding: 10px 24px;\n  margin: 0 8px;\n  background: transparent;\n  border: none;\n\n  &:hover {\n    text-decoration: underline;\n  }\n"]))),jr=qe.b.button(ne||(ne=Object(Fe.a)(["\n  color: white;\n  padding: 10px 24px;\n  border-radius: 4px;\n  border: none;\n  background-color: #f04444;\n\n  &:hover {\n    background-color: #c83434;\n  }\n"]))),pr=function(e){var n=e.children,t=Object(Je.a)(e,Zt);return Object(Ge.jsx)(or,Object(_e.a)(Object(_e.a)({as:"button",type:"button",size:"20px",w:"32px"},t),{},{children:n}))},xr=function(e){var n=e.message,t=e.handleClick,r=Object(Ve.c)((function(e){return e.session.user})),c=Object(Te.useState)(!1),a=Object(Un.a)(c,2),i=a[0],o=a[1],s=Object(Ve.b)(),d=Tn(),l=Object(Te.useState)(!1),b=Object(Un.a)(l,2),u=b[0],j=b[1],p=function(e){e.preventDefault();var t=e.target.value;console.log(t),s(Wt({id:n.id,channelId:d.id,content:t,user:r}))};Object(Te.useEffect)((function(){if(i){var e=function(e){13===e.keyCode?(p(e),o(!1)):27===e.keyCode&&(e.preventDefault(),o(!1))};return document.addEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)}}}));var x=function(){return j(!1)};return Object(Ge.jsxs)(nr,{children:[Object(Ge.jsx)(tr,{onClick:t,children:Object(Ge.jsx)(zn,{size:"27px",w:"40px",bgColor:n.user.avatarColor})}),Object(Ge.jsxs)("div",{style:{width:"100%"},children:[Object(Ge.jsxs)(rr,{children:[Object(Ge.jsx)(cr,{onClick:t,children:n.user.username}),Object(Ge.jsxs)(ar,{children:[Object(Kt.a)(n.createdAt),n.updatedAt?" (edited)":""]})]}),i?Object(Ge.jsx)(Ge.Fragment,{children:Object(Ge.jsxs)("form",{onSubmit:p,children:[Object(Ge.jsx)(Nt,{type:"text",name:"content",defaultValue:n.content}),Object(Ge.jsxs)(sr,{children:["escape to"," ",Object(Ge.jsx)("button",{onClick:function(){return o(!1)},children:"cancel"})," \u2022 enter to ",Object(Ge.jsx)("button",{children:"save"})]}),Object(Ge.jsx)(Lt,{})]})}):Object(Ge.jsx)(ir,{children:n.content})]}),r.id===n.user.id&&Object(Ge.jsxs)(Ge.Fragment,{children:[Object(Ge.jsxs)(er,{children:[Object(Ge.jsx)(Ze,{title:"Edit",placement:"top",children:Object(Ge.jsx)(pr,{onClick:function(){return o(!0)},children:Object(Ge.jsx)(fn.a,{})})}),Object(Ge.jsx)(Ze,{title:"Delete",placement:"top",children:Object(Ge.jsx)(pr,{onClick:function(){return j(!0)},children:Object(Ge.jsx)(Qt.a,{})})})]}),Object(Ge.jsx)(Gt.a,{open:u,onClose:x,children:Object(Ge.jsxs)(dr,{className:"disable-select",children:[Object(Ge.jsxs)(lr,{children:[Object(Ge.jsx)("h2",{children:"Delete Message"}),"Are you sure you want to delete this message?"]}),Object(Ge.jsxs)(br,{children:[Object(Ge.jsx)(ur,{onClick:x,children:"Cancel"}),Object(Ge.jsx)(jr,{onClick:function(){s(Ft({id:n.id,channelId:d.id}))},children:"Delete"})]})]})})]})]})},hr=t(179),Or=["user","setShowPopover"],gr=Object(qe.b)(hr.a)(te||(te=Object(Fe.a)(["\n  & .MuiPopover-paper {\n    border-radius: 8px;\n    background-color: var(--background-floating);\n    transition-duration: 0s !important;\n  }\n"]))),fr=qe.b.div(re||(re=Object(Fe.a)(["\n  background-color: ",";\n  width: 300px;\n  height: 60px;\n"])),(function(e){return e.bgColor})),vr=qe.b.div(ce||(ce=Object(Fe.a)(["\n  position: absolute;\n  top: 16px;\n  left: 16px;\n\n  & "," {\n    padding: 0px;\n    font-size: 28px;\n    height: 30px;\n    width: 30px;\n    right: -2px;\n    bottom: 2px;\n    background-color: var(--background-floating);\n  }\n"])),yn),mr=qe.b.div(ae||(ae=Object(Fe.a)(["\n  padding: 64px 16px 16px;\n  overflow: hidden;\n  position: relative;\n  display: block;\n"]))),yr=qe.b.div(ie||(ie=Object(Fe.a)(["\n  height: 1px;\n  background-color: var(--background-modifier-accent);\n  margin-bottom: 12px;\n"]))),wr=qe.b.div(oe||(oe=Object(Fe.a)(["\n  padding: 0 16px 16px 16px;\n"]))),kr=qe.b.span(se||(se=Object(Fe.a)(["\n  color: var(--interactive-active);\n  font-weight: 600;\n  font-size: 24px;\n"]))),Cr=qe.b.div(de||(de=Object(Fe.a)(["\n  padding: 0 16px 16px;\n"]))),zr=qe.b.div(le||(le=Object(Fe.a)(["\n  font-size: 13px;\n  color: var(--text-normal);\n  padding-bottom: 8px;\n"]))),Mr=qe.b.input(be||(be=Object(Fe.a)(["\n  background-color: var(--background-secondary-alt);\n  font-size: 14px;\n  padding: 10px;\n  height: 40px;\n  width: 100%;\n  border-radius: 3px;\n  border: 1px solid var(--background-secondary-alt);\n  outline: none;\n  color: var(--text-muted);\n  transition: border-color 0.2s ease-in-out;\n\n  &:focus {\n    outline: none;\n    border: 1px solid #00b0f4;\n  }\n"]))),Ar=function(e){var n=e.user,t=e.setShowPopover,r=Object(Je.a)(e,Or);return Object(Ge.jsxs)(gr,Object(_e.a)(Object(_e.a)({},r),{},{children:[Object(Ge.jsx)(fr,{bgColor:n.avatarColor}),Object(Ge.jsx)(vr,{children:Object(Ge.jsx)(zn,{size:"52px",w:"90px",border:"6px solid var(--background-floating)",bgColor:n.avatarColor})}),Object(Ge.jsx)(mr,{children:Object(Ge.jsx)(kr,{children:n.username})}),Object(Ge.jsx)(wr,{children:Object(Ge.jsx)(yr,{})}),Object(Ge.jsxs)(Cr,{children:[Object(Ge.jsx)(zr,{children:"Direct messaging is not implemented!"}),Object(Ge.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==e.target.content.value&&(e.target.reset(),t(!1))},children:[Object(Ge.jsx)(Mr,{type:"text",name:"content",placeholder:"message @".concat(n.username)}),Object(Ge.jsx)(Lt,{})]})]})]}))},Sr=qe.b.div(ue||(ue=Object(Fe.a)(["\n  background-color: var(--background-primary);\n  display: flex;\n  flex: 1;\n  overflow: hidden scroll;\n  height: calc(100vh - 48px - 68px);\n"]))),Ir=qe.b.div(je||(je=Object(Fe.a)(["\n  margin-top: auto;\n  width: 100%;\n"]))),Lr=qe.b.div(pe||(pe=Object(Fe.a)(["\n  margin: 16px 16px 4px 16px;\n"]))),Nr=qe.b.h1(xe||(xe=Object(Fe.a)(["\n  color: var(--header-primary);\n  margin-top: 12px;\n  margin-bottom: 4px;\n"]))),Er=qe.b.h2(he||(he=Object(Fe.a)(["\n  color: var(--header-secondary);\n  margin-bottom: 16px;\n  font-size: 14px;\n  font-weight: 400;\n"]))),Ur=qe.b.hr(Oe||(Oe=Object(Fe.a)(["\n  border: 0;\n  border-top: 1px solid var(--channeltextarea-background);\n  width: 100%;\n"]))),Dr=qe.b.div(ge||(ge=Object(Fe.a)([""]))),Tr=function(){var e=Tn(),n=Object(Ve.c)((function(e){return e.chat.messages})),t=n.allIds.length>0,r=Object(Te.useRef)(null);Object(Te.useEffect)((function(){r.current.scrollIntoView(!1)}),[n.allIds,r]);var c=Rn(),a=Object(Un.a)(c,6),i=a[0],o=a[1],s=a[2],d=a[3],l=a[4],b=a[5];return Object(Ge.jsx)(Sr,{className:"scrollable",children:Object(Ge.jsxs)(Ir,{children:[Object(Ge.jsxs)(Lr,{className:"disable-select",children:[Object(Ge.jsx)(gn,{size:"36px",w:"68px",color:"white",bgColor:"var(--background-accent)"}),Object(Ge.jsxs)(Nr,{children:["Welcome to #",null===e||void 0===e?void 0:e.name,"!"]}),Object(Ge.jsxs)(Er,{children:["This is the start of #",null===e||void 0===e?void 0:e.name,"."]}),t&&Object(Ge.jsx)(Ur,{})]}),t&&n.allIds.map((function(e){return Object(Ge.jsx)(xr,{message:n.byId[e],handleClick:function(t){return l(t,n.byId[e].user)}},e)})),Object(Ge.jsx)(Dr,{ref:r}),Object(Ge.jsx)(Ar,{open:s,anchorEl:o,onClose:b,anchorOrigin:{vertical:"bottom",horizontal:"right"},user:i,setShowPopover:d})]})})},Rr=qe.b.div(fe||(fe=Object(Fe.a)(["\n  background-color: white;\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  height: calc(100vh - 48px);\n  overflow: hidden;\n"]))),Pr=function(){return Object(Ge.jsxs)(Rr,{id:"chat-area",children:[Object(Ge.jsx)(Tr,{}),Object(Ge.jsx)(Xt,{})]})},Vr=qe.b.div(ve||(ve=Object(Fe.a)(["\n  background-color: var(--background-secondary);\n  width: 240px;\n  flex: 0 0 auto;\n  height: calc(100vh - 48px);\n  overflow: hidden scroll;\n  text-overflow: ellipsis;\n  padding: 10px 2px 10px 12px;\n\n  @media (max-width: 768px) {\n    height: 100vh;\n  }\n"]))),Wr=qe.b.h3(me||(me=Object(Fe.a)(["\n  font-size: 13px;\n  font-weight: 500;\n  margin: 8px 8px 4px 8px;\n  color: var(--channels-default);\n  text-transform: uppercase;\n"]))),$r=function(e){e.isMobile;var n=Object(Ve.c)((function(e){return e.memberList.onlineUsers})),t=Rn(),r=Object(Un.a)(t,6),c=r[0],a=r[1],i=r[2],o=r[3],s=r[4],d=r[5];return Object(Ge.jsxs)(Vr,{children:[Object(Ge.jsxs)(Wr,{className:"disable-select",children:["online \u2014 ",n.length]}),Object(Ge.jsx)(Sn,{gap:"2px",children:n.map((function(e){return Object(Ge.jsx)(En,{icon:Object(Ge.jsx)(zn,{size:"21px",w:"32px",bgColor:e.avatarColor,status:"online"}),text:e.username,style:{gap:"12px",padding:"6px 8px"},onClick:function(n){return s(n,e)}},e.id)}))}),Object(Ge.jsx)(Ar,{open:i,anchorEl:a,onClose:d,anchorOrigin:{vertical:"center",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"right"},user:c,setShowPopover:o})]})},Fr=qe.b.div(ye||(ye=Object(Fe.a)(['\n  display: grid;\n  grid-template-columns: 312px 1fr;\n  grid-template-rows: 48px 1fr;\n  grid-template-areas:\n    "sidebar header"\n    "sidebar chat-area";\n\n  ','\n\n  @media (max-width: 768px) {\n    grid-template-columns: 1fr;\n    grid-template-areas:\n      "header"\n      "chat-area";\n  }\n\n  #sidebar {\n    grid-area: sidebar;\n  }\n\n  #header {\n    grid-area: header;\n  }\n\n  #chat-area {\n    grid-area: chat-area;\n  }\n\n  #member-list {\n    grid-area: member-list;\n  }\n'])),(function(e){return e.$isMemberListOpen&&Object(qe.a)(we||(we=Object(Fe.a)(['\n      grid-template-columns: 312px 1fr 240px;\n      grid-template-areas:\n        "sidebar header header"\n        "sidebar chat-area member-list";\n    '])))})),Hr=Object(qe.b)(He.a)(ke||(ke=Object(Fe.a)(["\n  ","\n"])),an),qr=qe.b.div(Ce||(Ce=Object(Fe.a)(["\n  display: ",";\n\n  @media (max-width: 768px) {\n    display: none;\n  }\n"])),(function(e){return e.$isOpen?"block":"none"})),_r=function(){var e=Object(Ve.b)(),n=Object(Ve.c)((function(e){return e.sidebar.isOpen}));return Object(Ge.jsxs)("nav",{id:"sidebar",children:[Object(Ge.jsx)(Hr,{anchor:"left",variant:"temporary",open:n,onClose:function(){return e(Qn())},ModalProps:{keepMounted:!0},children:Object(Ge.jsx)(st,{})}),Object(Ge.jsx)(qr,{$isOpen:!0,children:Object(Ge.jsx)(st,{})})]})},Jr=function(){var e=Object(Ve.b)(),n=Object(Ve.c)((function(e){return e.memberList.isOpen})),t=Dn()>768;return Object(Ge.jsxs)("div",{id:"member-list",children:[Object(Ge.jsx)(Hr,{anchor:"right",variant:"temporary",open:n&&!t,onClose:function(){return e(ut())},ModalProps:{keepMounted:!0},children:Object(Ge.jsx)($r,{})}),Object(Ge.jsx)(qr,{$isOpen:n&&t,children:Object(Ge.jsx)($r,{})})]})},Yr=function(){var e=Object(Ve.c)((function(e){return e.memberList.isOpen})),n=Object($e.h)(),t=parseInt(n.channel),r=Object(Ve.b)();return Object(Te.useEffect)((function(){r(Xn(t)),r(Et(t))}),[t,r]),Object(Ge.jsxs)(Fr,{$isMemberListOpen:e,children:[Object(Ge.jsx)(_r,{}),Object(Ge.jsx)(St,{}),Object(Ge.jsx)(Pr,{}),Object(Ge.jsx)(Jr,{})]})},Br=qe.b.label(ze||(ze=Object(Fe.a)(["\n  color: ",";\n  font-weight: 500;\n  text-transform: uppercase;\n  padding: 8px 0;\n"])),(function(e){return e.error?"var(--text-danger)":"var(--header-secondary)"})),Xr=qe.b.form(Me||(Me=Object(Fe.a)(["\n  display: flex;\n  flex-direction: column;\n  font-size: 13px;\n  padding: 12px 0;\n  width: 400px;\n\n  @media (max-width: 550px) {\n    width: 100%;\n  }\n"]))),Gr=qe.b.select(Ae||(Ae=Object(Fe.a)(["\n  margin-top: 6px;\n  margin-bottom: 12px;\n  padding: 10px 8px 8px 12px;\n  background-color: var(--background-secondary);\n  border: 1px solid var(--background-secondary-alt);\n  color: var(--text-normal);\n  font-size: 14px;\n  border-radius: 5px;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  appearance: none;\n\n  &:focus {\n    outline: none;\n  }\n\n  /* https://codepen.io/vkjgr/pen/VYMeXp */\n  background-image: linear-gradient(45deg, transparent 50%, gray 50%),\n    linear-gradient(135deg, gray 50%, transparent 50%);\n  background-position: calc(100% - 20px) calc(1em + 2px),\n    calc(100% - 15px) calc(1em + 2px);\n  background-size: 5px 5px, 5px 5px;\n  background-repeat: no-repeat;\n\n  &:-moz-focusring {\n    color: transparent;\n    text-shadow: 0 0 0 #000;\n  }\n"]))),Kr=qe.b.div(Se||(Se=Object(Fe.a)(["\n  display: flex;\n  align-items: center;\n  background-color: var(--brand);\n  min-height: 100vh;\n  width: 100%;\n  color: var(--text-muted);\n  justify-content: center;\n\n  a {\n    color: var(--text-link);\n    font-size: 13px;\n\n    &:hover {\n      text-decoration: underline;\n    }\n  }\n"]))),Qr=qe.b.div(Ie||(Ie=Object(Fe.a)(["\n  padding: 28px;\n  background-color: var(--background-primary);\n  box-shadow: 0 2px 10px 0 rgba(0, 0, 0, 0.2);\n  border-radius: 5px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n\n  @media only screen and (max-width: 550px) {\n    padding: 16px;\n    min-height: 100vh;\n    min-width: 100vw;\n    border-radius: 0;\n    justify-content: flex-start;\n  }\n"]))),Zr=qe.b.div(Le||(Le=Object(Fe.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  text-align: center;\n  font-size: 40px;\n  color: white;\n  margin-bottom: 20px;\n"]))),ec=qe.b.h1(Ne||(Ne=Object(Fe.a)(["\n  color: var(--header-primary);\n  font-size: 24px;\n  font-weight: 500;\n"]))),nc=function(e){var n=e.heading,t=e.children;return Object(Ge.jsx)(Kr,{className:"disable-select",children:Object(Ge.jsxs)(Qr,{children:[Object(Ge.jsx)(Zr,{children:Object(Ge.jsx)(Ye.b,{})}),Object(Ge.jsx)(ec,{children:n}),t]})})},tc=qe.b.button.attrs((function(){return{type:"submit"}}))(Ee||(Ee=Object(Fe.a)(["\n  background-color: rgb(88, 101, 242);\n  border: 0;\n  border-radius: 4px;\n  padding: 12px 8px;\n  margin: 16px 0 12px 0;\n  color: white;\n  font-size: 14px;\n  font-weight: 500;\n  font-family: inherit;\n\n  &:hover {\n    background-color: rgb(71, 82, 196);\n    cursor: pointer;\n  }\n"]))),rc=qe.b.div(Ue||(Ue=Object(Fe.a)(["\n  color: var(--text-normal);\n  margin: 16px 0;\n  padding: 8px 0;\n"]))),cc=function(){var e=Object(Ve.b)(),n=Object($e.g)(),t=Object(Ve.c)((function(e){return e.session}));return Object(Te.useEffect)((function(){t.isAuthenticated&&(e(mt(t.user)),e(Yn()),n("/channels/1"))}),[e,n,t]),Object(Ge.jsx)(nc,{heading:"Fooncord",children:Object(Ge.jsxs)(Xr,{onSubmit:function(n){n.preventDefault();var t=n.target.username.value;e(Ot({username:t,password:t}))},children:[Object(Ge.jsx)(rc,{children:"To visitors: You can open this website in multiple tabs and sign in with a different account in each tab."}),Object(Ge.jsx)("span",{className:"errorMessage",style:{textAlign:"center"},children:t.error}),Object(Ge.jsx)(Br,{htmlFor:"username",children:"Username"}),Object(Ge.jsxs)(Gr,{name:"username",id:"username",defaultValue:"john.doe",children:[Object(Ge.jsx)("option",{value:"john_doe",children:"john_doe"}),Object(Ge.jsx)("option",{value:"jane_doe",children:"jane_doe"}),Object(Ge.jsx)("option",{value:"guest123",children:"guest123"}),Object(Ge.jsx)("option",{value:"programmer",children:"programmer"})]}),Object(Ge.jsx)(tc,{children:"Login"}),Object(Ge.jsxs)("div",{children:["Want your own account? ",Object(Ge.jsx)(We.b,{to:"/signup",children:"Register"})]}),Object(Ge.jsxs)("div",{children:["Already have an account? ",Object(Ge.jsx)(We.b,{to:"/login",children:"Login"})]})]})})},ac=qe.b.input(De||(De=Object(Fe.a)(["\n  background-color: rgba(0, 0, 0, 0.1);\n  font-size: 14px;\n  padding: 10px;\n  margin-bottom: 12px;\n  height: 40px;\n  width: 100%;\n  border-radius: 3px;\n  border: 1px solid\n    ",";\n  outline: none;\n  color: var(--text-normal);\n  transition: border-color 0.2s ease-in-out;\n\n  &:focus {\n    outline: none;\n    border: 1px solid ",";\n  }\n"])),(function(e){return e.error?"var(--text-danger)":"rgba(0, 0, 0, 0.3)"}),(function(e){return e.error?"var(--text-danger)":"#00B0F4"})),ic=function(){var e=Object(Te.useState)(""),n=Object(Un.a)(e,2),t=n[0],r=n[1],c=Object(Te.useState)(""),a=Object(Un.a)(c,2),i=a[0],o=a[1],s=Object(Ve.b)(),d=Object($e.g)(),l=Object(Ve.c)((function(e){return e.session}));return Object(Te.useEffect)((function(){l.isAuthenticated&&(s(mt(l.user)),s(Yn()),d("/channels/1"))}),[s,d,l]),Object(Ge.jsx)(nc,{heading:"Welcome back!",children:Object(Ge.jsxs)(Xr,{onSubmit:function(e){e.preventDefault();var n=e.target.username.value,t=e.target.password.value;n||r("This field is required"),t||o("This field is required"),n&&t&&(s(Ot({username:n,password:t})),r(""),o(""))},children:[Object(Ge.jsx)("span",{className:"errorMessage",style:{textAlign:"center"},children:l.error}),Object(Ge.jsxs)(Br,{error:t,children:["Username",t&&Object(Ge.jsxs)("span",{className:"errorMessage",children:[" - ",t]})]}),Object(Ge.jsx)(ac,{type:"text",name:"username",error:t}),Object(Ge.jsxs)(Br,{error:i,children:["Password",i&&Object(Ge.jsxs)("span",{className:"errorMessage",children:[" - ",i]})]}),Object(Ge.jsx)(ac,{type:"password",name:"password",error:i}),Object(Ge.jsx)(tc,{children:"Login"}),Object(Ge.jsxs)("div",{children:["Need an account? ",Object(Ge.jsx)(We.b,{to:"/",children:"Use a demo account"})," or"," ",Object(Ge.jsx)(We.b,{to:"/signup",children:"Register"})]})]})})},oc=function(){var e=Object(Te.useState)(""),n=Object(Un.a)(e,2),t=n[0],r=n[1],c=Object(Te.useState)(""),a=Object(Un.a)(c,2),i=a[0],o=a[1],s=Object(Ve.b)(),d=Object($e.g)(),l=Object(Ve.c)((function(e){return e.session}));return Object(Te.useEffect)((function(){l.isAuthenticated&&(s(mt(l.user)),s(Yn()),d("/channels/1"))}),[s,d,l]),Object(Ge.jsx)(nc,{heading:"Create an Account",children:Object(Ge.jsxs)(Xr,{onSubmit:function(e){e.preventDefault();var n=e.target.username.value,t=e.target.password.value,c=!0;r(""),o(""),n?(n.length<2||n.length>32)&&(r("Must be between 2 and 32 in length"),c=!1):(r("This field is required"),c=!1),t?(t.length<6||t.length>72)&&(o("Must be between 6 and 72 in length"),c=!1):(o("This field is required"),c=!1),c&&s(gt({username:n,password:t}))},children:[Object(Ge.jsx)("span",{className:"errorMessage",style:{textAlign:"center"},children:l.error}),Object(Ge.jsxs)(Br,{error:t,children:["Username",t&&Object(Ge.jsxs)("span",{className:"errorMessage",children:[" - ",t]})]}),Object(Ge.jsx)(ac,{type:"text",name:"username",error:t}),Object(Ge.jsxs)(Br,{error:i,children:["Password",i&&Object(Ge.jsxs)("span",{className:"errorMessage",children:[" - ",i]})]}),Object(Ge.jsx)(ac,{type:"password",name:"password",error:i}),Object(Ge.jsx)(tc,{children:"Register"}),Object(Ge.jsxs)("div",{children:["Don't want to register? ",Object(Ge.jsx)(We.b,{to:"/",children:"Use a demo account"})]}),Object(Ge.jsxs)("div",{children:["Already have an account? ",Object(Ge.jsx)(We.b,{to:"/login",children:"Login"})]})]})})},sc=function(e){var n=e.children;return Object(Ve.c)((function(e){return e.session.isAuthenticated}))?n:Object(Ge.jsx)($e.a,{to:"/"})},dc=function(){return Object(Ge.jsx)(We.a,{children:Object(Ge.jsxs)($e.d,{children:[Object(Ge.jsx)($e.b,{path:"/",element:Object(Ge.jsx)(cc,{})}),Object(Ge.jsx)($e.b,{path:"/login",element:Object(Ge.jsx)(ic,{})}),Object(Ge.jsx)($e.b,{path:"/signup",element:Object(Ge.jsx)(oc,{})}),Object(Ge.jsx)($e.b,{path:"/channels/:channel",element:Object(Ge.jsx)(sc,{children:Object(Ge.jsx)(Yr,{})})})]})})},lc=t(95),bc=function(e){var n=Object(lc.a)("/",{autoConnect:!1});return n.on("send-message",(function(n){e.dispatch(Tt(n))})),n.on("edit-message",(function(n){e.dispatch(Rt(n))})),n.on("delete-message",(function(n){e.dispatch(Pt(n))})),n.on("update-member-list",(function(n){e.dispatch(bt(n))})),n.on("typing",(function(n){e.dispatch(Vt(n))})),n.on("stop-typing",(function(n){e.dispatch(Vt(null))})),function(e){return function(t){switch(t.type){case"channels/setActiveChannel":n.emit("set-active-channel",JSON.stringify(t.payload));break;case"chat/sendMessage":n.emit("send-message",t.payload);break;case"chat/editMessage":n.emit("edit-message",t.payload);break;case"chat/deleteMessage":n.emit("delete-message",t.payload);break;case"chat/typing":n.emit("typing",t.payload);break;case"chat/stopTyping":n.emit("stop-typing",t.payload);break;case"session/connectSocket":n.connect(),n.emit("new-client",t.payload);break;case"session/logout":n.close()}return e(t)}}},uc=Object($n.a)({reducer:{chat:_t,channels:Gn,session:wt,sidebar:Zn,memberList:jt},middleware:function(e){return e({serializableCheck:!1}).concat(bc)}});Pe.a.render(Object(Ge.jsx)(Ve.a,{store:uc,children:Object(Ge.jsx)(dc,{})}),document.getElementById("root"))}},[[144,1,2]]]);
//# sourceMappingURL=main.3b697797.chunk.js.map