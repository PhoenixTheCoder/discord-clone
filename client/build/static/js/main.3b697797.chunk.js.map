{"version":3,"sources":["components/dashboard/ArrowTooltip.js","design/mixins.js","components/dashboard/ServerList.js","components/dashboard/Hashtag.js","components/dashboard/Avatar.js","components/dashboard/List.js","components/dashboard/ListItem.js","hooks/index.js","api/channel.js","reducers/channelsReducer.js","reducers/sidebarReducer.js","components/dashboard/ChannelList.js","components/dashboard/Sidebar.js","reducers/memberListReducer.js","api/user.js","reducers/sessionReducer.js","components/dashboard/Header.js","components/dashboard/InvisibleSubmitButton.js","components/dashboard/ChannelTextArea.js","reducers/chatReducer.js","components/dashboard/WriteArea.js","components/dashboard/Message.js","components/dashboard/UserPopover.js","components/dashboard/Messages.js","components/dashboard/ChatArea.js","components/dashboard/MemberList.js","components/dashboard/Dashboard.js","components/authForm/Label.js","components/authForm/Form.js","components/authForm/Select.js","components/authForm/Layout.js","components/authForm/SubmitButton.js","components/authForm/DemoLoginPage.js","components/authForm/Input.js","components/authForm/LoginPage.js","components/authForm/SignupPage.js","routes/index.js","App.js","middleware/socketMiddleware.js","store.js","index.js"],"names":["Wrapper","styled","p","Tooltip","classes","popper","className","ArrowTooltip","children","delegated","arrow","wh","w","h","css","font","color","size","baseIcon","border","roundedBackground","bgColor","bgColorOnHover","isActive","interactiveColor","hideInDesktop","PillWrapper","div","PillContainer","discordIconStyle","IconWrapper","isDiscord","ServerIcon","ListItem","Pill","Container","ServerList","title","placement","Hashtag","GreenDotWrapper","GreenDot","DiscordIcon","Avatar","status","onClick","horizontal","gap","List","Text","span","icon","text","useWindowWidth","useState","width","setWidth","useLayoutEffect","updateSize","window","innerWidth","addEventListener","removeEventListener","useActiveChannel","loading","useSelector","state","channels","activeChannelId","active","channelsById","byId","usePopover","showPopover","setShowPopover","user","setUser","anchorEl","setAnchorEl","event","currentTarget","api","axios","create","baseURL","getChannels","a","get","getMessages","channelId","loadChannels","createAsyncThunk","_","rejectWithValue","channelAPI","response","data","channelsSlice","createSlice","name","initialState","allIds","reducers","setActiveChannel","action","payload","extraReducers","builder","addCase","pending","fulfilled","forEach","channel","id","push","actions","sidebarSlice","isOpen","toggleSidebar","Header","Heading","h2","Content","Footer","Username","ChannelList","dispatch","useDispatch","useEffect","session","isInDesktop","map","to","style","padding","avatarColor","username","Sidebar","memberListSlice","onlineUsers","updateOnlineUsers","toggleMemberList","login","userInfo","post","signup","userAPI","sessionSlice","isAuthenticated","error","connectSocket","logout","rejected","button","$isHamburger","IconButton","href","tag","type","undefined","as","isMemberListOpen","memberList","activeChannelName","alignItems","target","attrs","InvisibleSubmitButton","ChannelTextArea","input","loadMessages","chatSlice","messages","typingUser","receiveNewMessage","message","receiveEditedMessage","receiveDeletedMessage","filter","sendMessage","editMessage","deleteMessage","typing","stopTyping","updateTypingUser","Form","form","TypingStatus","WriteArea","activeChannel","timeout","chat","onSubmit","preventDefault","content","value","reset","placeholder","onKeyUp","keyCode","clearTimeout","setTimeout","MessageButtons","AvatarWrapper","Timestamp","Operation","PopupContainer","PopupMessageContainer","PopupButtonContainer","CancelButton","DeleteButton","Message","handleClick","showTextArea","setShowTextArea","openDeleteMessage","setOpenPopup","handleSubmit","console","log","onKeyDown","document","handleClosePopup","format","createdAt","updatedAt","defaultValue","Modal","open","onClose","StyledPopover","Popover","Banner","Divider","Note","Input","UserPopover","HeaderContainer","PrimaryHeading","h1","SecondaryHeading","hr","ContainerBottom","Messages","hasMessages","length","containerBottomRef","useRef","current","scrollIntoView","handleClickAway","ref","anchorOrigin","vertical","ChatArea","h3","MemberList","isMobile","users","transformOrigin","$isMemberListOpen","MobileDrawer","Drawer","DesktopItem","$isOpen","ResponsiveSidebar","isSidebarOpen","sidebar","anchor","variant","ModalProps","keepMounted","ResponsiveMemberList","Dashboard","params","useParams","parseInt","Label","label","Select","select","Layout","heading","SubmitButton","Description","DemoLoginPage","navigate","useNavigate","password","textAlign","htmlFor","LoginPage","usernameError","setUsernameError","passwordError","setPasswordError","SignupPage","noValidationError","RequireAuth","App","path","element","socketMiddleware","storeAPI","socket","io","autoConnect","on","next","emit","JSON","stringify","connect","close","store","configureStore","reducer","chatReducer","channelsReducer","sessionReducer","sidebarReducer","memberListReducer","middleware","getDefaultMiddleware","serializableCheck","concat","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.3b697797.chunk.js","sourcesContent":["import React from \"react\";\n\nimport { styled } from \"@mui/material/styles\";\nimport Tooltip from \"@mui/material/Tooltip\";\n\nconst Wrapper = styled((p) => (\n  <Tooltip classes={{ popper: p.className }} {...p} />\n))`\n  & .MuiTooltip-tooltip {\n    background-color: black;\n    color: white;\n    font-size: 14px;\n    padding: 10px;\n  }\n\n  & .MuiTooltip-arrow {\n    color: black;\n  }\n`;\n\nconst ArrowTooltip = ({ children, ...delegated }) => {\n  return (\n    <Wrapper {...delegated} arrow>\n      <div>{children}</div>\n    </Wrapper>\n  );\n};\n\nexport default ArrowTooltip;\n","import { css } from \"styled-components\";\n\nexport const wh = ({ w, h = w }) => css`\n  width: ${w};\n  height: ${h};\n`;\n\nexport const font = ({ color, size }) => css`\n  color: ${color || \"var(--text-normal)\"};\n  font-size: ${size || \"1rem\"};\n`;\n\nexport const baseIcon = ({ border }) => css`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border: ${border || \"none\"};\n  ${wh};\n  ${font};\n`;\n\nexport const roundedBackground = ({ bgColor, bgColorOnHover }) => css`\n  border-radius: 50%;\n  background-color: ${bgColor};\n\n  ${bgColorOnHover &&\n  css`\n    transition: 0.3s;\n\n    &:hover {\n      background-color: bgColorOnHover;\n      border-radius: 16px;\n    }\n\n    ${(p) =>\n      p.isActive &&\n      css`\n        border-radius: 16px;\n      `}\n  `}\n`;\n\nexport const interactiveColor = ({ isActive }) => css`\n  color: ${isActive ? \"var(--interactive-active)\" : \"var(--channels-default)\"};\n\n  &:hover {\n    color: var(--interactive-hover);\n  }\n`;\n\nexport const hideInDesktop = css`\n  display: none;\n\n  @media (max-width: 768px) {\n    display: block;\n  }\n`;\n","import React from \"react\";\n\nimport styled, { css } from \"styled-components\";\nimport { FaDiscord } from \"react-icons/fa\";\n\nimport ArrowTooltip from \"./ArrowTooltip\";\nimport { baseIcon, roundedBackground } from \"../../design/mixins\";\n\nconst PillWrapper = styled.div`\n  position: absolute;\n  left: 0;\n  top: 0;\n  overflow: hidden;\n  width: 8px;\n  height: 48px;\n  display: flex;\n  align-items: center;\n`;\n\nconst PillContainer = styled.div`\n  width: 8px;\n  height: ${(p) => (p.isActive ? \"40px\" : \"0\")};\n  margin-left: -4px;\n  border-radius: 0 4px 4px 0;\n  background-color: var(--header-primary);\n  transition: 0.2s;\n`;\n\nconst discordIconStyle = css`\n  color: ${(p) => (p.isActive ? \"white\" : \"var(--text-normal)\")};\n  background-color: ${(p) =>\n    p.isActive ? \"var(--brand)\" : \"var(--background-primary)\"};\n\n  &:hover {\n    background-color: var(--brand);\n  }\n`;\n\nconst IconWrapper = styled.div`\n  ${baseIcon};\n  ${roundedBackground};\n  transition: 0.3s;\n  background-color: #faa519;\n\n  &:hover {\n    border-radius: 16px;\n  }\n\n  ${(p) =>\n    p.isActive &&\n    css`\n      border-radius: 16px;\n    `}\n\n  &:hover + ${PillWrapper} > ${PillContainer} {\n    height: ${(p) => (p.isActive ? \"40px\" : \"24px\")};\n  }\n\n  ${(p) => p.isDiscord && discordIconStyle}\n`;\n\nconst ServerIcon = ({ children, ...delegated }) => {\n  return (\n    <IconWrapper size=\"28px\" w=\"48px\" color=\"white\" {...delegated}>\n      {children}\n    </IconWrapper>\n  );\n};\n\nconst ListItem = styled.div`\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n`;\n\nconst Pill = ({ isActive }) => {\n  return (\n    <PillWrapper>\n      <PillContainer isActive></PillContainer>\n    </PillWrapper>\n  );\n};\n\nconst Container = styled.div`\n  background-color: var(--background-tertiary);\n  width: 72px;\n  overflow: hidden;\n  padding: 12px 0;\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  align-items: center;\n`;\n\nconst ServerList = () => {\n  return (\n    <Container>\n      <ListItem>\n        <ArrowTooltip title=\"Sample Server\" placement=\"left\">\n          <ServerIcon isActive isDiscord>\n            <FaDiscord />\n          </ServerIcon>\n          <Pill isActive />\n        </ArrowTooltip>\n      </ListItem>\n    </Container>\n  );\n};\n\nexport default ServerList;\n","import React from \"react\";\n\nimport styled from \"styled-components\";\nimport { FaHashtag } from \"react-icons/fa\";\n\nimport { baseIcon, roundedBackground } from \"../../design/mixins\";\n\nexport const Wrapper = styled.div`\n  ${baseIcon};\n  color: ${(p) => p.color || \"var(--text-muted)\"};\n  ${(p) => p.bgColor && roundedBackground};\n`;\n\nconst Hashtag = ({ ...delegated }) => {\n  return (\n    <Wrapper {...delegated}>\n      <FaHashtag />\n    </Wrapper>\n  );\n};\n\nexport default Hashtag;\n","import React from \"react\";\n\nimport styled from \"styled-components\";\nimport { FaDiscord } from \"react-icons/fa\";\nimport { MdFiberManualRecord } from \"react-icons/md\";\n\nimport { baseIcon, roundedBackground } from \"../../design/mixins\";\n\nconst Wrapper = styled.div`\n  ${baseIcon};\n  ${roundedBackground};\n`;\n\nexport const GreenDotWrapper = styled(Wrapper)`\n  padding: 0.5px;\n  height: 16px;\n  width: 16px;\n  position: absolute;\n  right: -4px;\n  bottom: -4px;\n`;\n\nconst Container = styled.div`\n  position: relative;\n`;\n\nconst GreenDot = () => {\n  return (\n    <GreenDotWrapper color=\"#3aa55d\" bgColor=\"var(--background-secondary-alt)\">\n      <MdFiberManualRecord />\n    </GreenDotWrapper>\n  );\n};\n\nconst DiscordIcon = ({ ...delegated }) => {\n  return (\n    <Wrapper color=\"white\" {...delegated}>\n      <FaDiscord />\n    </Wrapper>\n  );\n};\n\nconst Avatar = ({ status, onClick, ...delegated }) => {\n  return status ? (\n    <Container onClick={onClick}>\n      <DiscordIcon {...delegated} />\n      <GreenDot />\n    </Container>\n  ) : (\n    <DiscordIcon onClick={onClick} {...delegated} />\n  );\n};\n\nexport default Avatar;\n","import React from \"react\";\n\nimport styled from \"styled-components\";\n\nconst Wrapper = styled.div`\n  display: flex;\n  flex-direction: ${(p) => (p.horizontal ? \"row\" : \"column\")};\n  gap: ${(p) => p.gap};\n`;\n\nconst List = ({ horizontal, gap, children, ...delegated }) => {\n  return (\n    <Wrapper horizontal={horizontal} gap={gap} {...delegated}>\n      {children}\n    </Wrapper>\n  );\n};\n\nexport default List;\n","import React from \"react\";\n\nimport styled, { css } from \"styled-components\";\n\nconst Text = styled.span`\n  font-size: 15px;\n  font-weight: 500;\n  color: var(--channels-default);\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n`;\n\nconst Container = styled.div`\n  display: flex;\n  align-items: center;\n  border-radius: 4px;\n\n  &:hover {\n    background-color: var(--background-modifier-hover);\n    cursor: pointer;\n  }\n\n  &:hover > ${Text} {\n    color: var(--interactive-hover);\n  }\n\n  ${(p) =>\n    p.isActive &&\n    css`\n      &,\n      &:hover {\n        background-color: var(--background-modifier-selected);\n      }\n\n      & > ${Text}, &:hover > ${Text} {\n        color: var(--interactive-active);\n      }\n    `}\n`;\n\nconst ListItem = ({ icon, text, isActive, ...delegated }) => {\n  return (\n    <Container isActive={isActive} {...delegated}>\n      <>{icon}</>\n      {text && (\n        <Text isActive={isActive} className=\"disable-select\">\n          {text}\n        </Text>\n      )}\n    </Container>\n  );\n};\n\nexport default ListItem;\n","import { useLayoutEffect, useState } from \"react\";\n\nimport { useSelector } from \"react-redux\";\n\n// Detect window width\nexport const useWindowWidth = () => {\n  const [width, setWidth] = useState(0);\n\n  useLayoutEffect(() => {\n    function updateSize() {\n      setWidth(window.innerWidth);\n    }\n    window.addEventListener(\"resize\", updateSize);\n    updateSize();\n    return () => window.removeEventListener(\"resize\", updateSize);\n  }, []);\n  return width;\n};\n\nexport const useActiveChannel = () => {\n  const loading = useSelector((state) => state.channels.loading);\n  const activeChannelId = useSelector((state) => state.channels.active);\n  const channelsById = useSelector((state) => state.channels.byId);\n  return !loading && channelsById[activeChannelId];\n};\n\nexport const usePopover = () => {\n  const [showPopover, setShowPopover] = useState(false);\n  const [user, setUser] = useState(\"\");\n  const [anchorEl, setAnchorEl] = useState(null);\n\n  const handleClick = (event, user) => {\n    setUser(user);\n    setShowPopover(true);\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClickAway = () => {\n    setUser(\"\");\n    setShowPopover(false);\n    setAnchorEl(null);\n  };\n\n  return [\n    user,\n    anchorEl,\n    showPopover,\n    setShowPopover,\n    handleClick,\n    handleClickAway,\n  ];\n};\n","import axios from \"axios\";\n\nconst api = axios.create({\n  baseURL: \"/api/channels\",\n});\n\nexport const getChannels = async () => {\n  return await api.get(\"/\");\n};\n\nexport const getMessages = async (channelId) => {\n  return await api.get(`/${channelId}`);\n};\n","import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\n\nimport * as channelAPI from \"../api/channel\";\n\nexport const loadChannels = createAsyncThunk(\n  \"channels/loadChannels\",\n  async (_, { rejectWithValue }) => {\n    try {\n      const response = await channelAPI.getChannels();\n      return response.data;\n    } catch (err) {\n      return rejectWithValue(err.response);\n    }\n  }\n);\n\nconst initialState = {\n  byId: {},\n  allIds: [],\n  loading: true,\n  active: null,\n};\n\nconst channelsSlice = createSlice({\n  name: \"channels\",\n  initialState,\n  reducers: {\n    setActiveChannel(state, action) {\n      state.active = action.payload;\n    },\n  },\n  extraReducers: (builder) => {\n    builder\n      .addCase(loadChannels.pending, (state, action) => {\n        state.loading = true;\n      })\n      .addCase(loadChannels.fulfilled, (state, action) => {\n        state.byId = {};\n        state.allIds = [];\n        state.loading = false;\n        action.payload.forEach((channel) => {\n          state.byId[channel.id] = channel;\n          state.allIds.push(channel.id);\n        });\n      });\n  },\n});\n\nexport const { setActiveChannel } = channelsSlice.actions;\n\nexport default channelsSlice.reducer;\n","import { createSlice } from \"@reduxjs/toolkit\";\n\nconst initialState = {\n  isOpen: false,\n};\n\nconst sidebarSlice = createSlice({\n  name: \"sidebar\",\n  initialState,\n  reducers: {\n    toggleSidebar(state, action) {\n      state.isOpen = !state.isOpen;\n    },\n  },\n});\n\nexport const { toggleSidebar } = sidebarSlice.actions;\n\nexport default sidebarSlice.reducer;\n","import React, { useEffect } from \"react\";\n\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport styled from \"styled-components\";\n\nimport Hashtag from \"./Hashtag\";\nimport Avatar from \"./Avatar\";\nimport List from \"./List\";\nimport ListItem from \"./ListItem\";\nimport { useWindowWidth } from \"../../hooks\";\nimport { loadChannels } from \"../../reducers/channelsReducer\";\nimport { toggleSidebar } from \"../../reducers/sidebarReducer\";\n\nconst Container = styled.div`\n  width: 240px;\n  display: flex;\n  flex-direction: column;\n  text-overflow: ellipsis;\n`;\n\nconst Header = styled.div`\n  background-color: var(--background-secondary);\n  border-bottom: 1px solid var(--background-tertiary);\n  height: 48px;\n  flex: 0 0 auto;\n  display: flex;\n  align-items: center;\n  padding: 0 16px;\n`;\n\nconst Heading = styled.h2`\n  font-size: 16px;\n  font-weight: 600;\n  color: var(--header-primary);\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n`;\n\nconst Content = styled.div`\n  background-color: var(--background-secondary);\n  flex: 1;\n  height: calc(100vh - 48px - 52px);\n  padding: 10px 2px 10px 8px;\n`;\n\nconst Footer = styled.div`\n  background-color: var(--background-secondary-alt);\n  height: 52px;\n  flex: 0 0 auto;\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  padding: 0 8px;\n`;\n\nconst Username = styled.div`\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  color: var(--header-primary);\n  font-weight: 600;\n  font-size: 14px;\n`;\n\nconst ChannelList = () => {\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(loadChannels());\n  }, [dispatch]);\n\n  const user = useSelector((state) => state.session.user);\n  const channels = useSelector((state) => state.channels);\n  const activeChannelId = useSelector((state) => state.channels.active);\n  const isInDesktop = useWindowWidth() > 768;\n\n  return (\n    <Container className=\"disable-select\">\n      <Header>\n        <Heading>Sample Server</Heading>\n      </Header>\n      <Content className=\"scrollable\">\n        <List gap=\"2px\">\n          {!channels.loading &&\n            channels.allIds.map((id) => (\n              <Link\n                key={id}\n                to={`/channels/${id}`}\n                onClick={() => !isInDesktop && dispatch(toggleSidebar())}\n              >\n                <ListItem\n                  icon={<Hashtag size=\"20px\" />}\n                  text={channels.byId[id].name}\n                  style={{ gap: \"8px\", padding: \"8px 4px\" }}\n                  isActive={id === activeChannelId}\n                />\n              </Link>\n            ))}\n        </List>\n      </Content>\n      <Footer>\n        <Avatar\n          size=\"21px\"\n          w=\"32px\"\n          bgColor={user.avatarColor}\n          status=\"online\"\n        />\n        <Username>{user.username}</Username>\n      </Footer>\n    </Container>\n  );\n};\n\nexport default ChannelList;\n","import React from \"react\";\n\nimport styled from \"styled-components\";\n\nimport ServerList from \"./ServerList\";\nimport ChannelList from \"./ChannelList\";\n\nconst Container = styled.div`\n  display: flex;\n  flex: 0 0 auto;\n  height: 100vh;\n`;\n\nconst Sidebar = () => {\n  return (\n    <Container>\n      <ServerList />\n      <ChannelList />\n    </Container>\n  );\n};\n\nexport default Sidebar;\n","import { createSlice } from \"@reduxjs/toolkit\";\n\nconst initialState = {\n  onlineUsers: [],\n  isOpen: false,\n};\n\nconst memberListSlice = createSlice({\n  name: \"memberList\",\n  initialState,\n  reducers: {\n    updateOnlineUsers(state, action) {\n      state.onlineUsers = action.payload;\n    },\n    toggleMemberList(state, action) {\n      state.isOpen = !state.isOpen;\n    },\n  },\n});\n\nexport const { updateOnlineUsers, toggleMemberList } = memberListSlice.actions;\n\nexport default memberListSlice.reducer;\n","import axios from \"axios\";\n\nconst api = axios.create({\n  baseURL: \"/api/users\",\n});\n\nexport const login = async (userInfo) => {\n  return await api.post(\"/login\", userInfo);\n};\n\nexport const signup = async (userInfo) => {\n  return await api.post(\"/\", userInfo);\n};\n","import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\n\nimport * as userAPI from \"../api/user\";\n\nexport const login = createAsyncThunk(\n  \"session/login\",\n  async (userInfo, { rejectWithValue }) => {\n    try {\n      const response = await userAPI.login(userInfo);\n      return response.data;\n    } catch (err) {\n      return rejectWithValue(err.response.data);\n    }\n  }\n);\n\nexport const signup = createAsyncThunk(\n  \"session/signup\",\n  async (userInfo, { dispatch, rejectWithValue }) => {\n    try {\n      await userAPI.signup(userInfo);\n      return dispatch(login(userInfo));\n    } catch (err) {\n      return rejectWithValue(err.response.data);\n    }\n  }\n);\n\nconst initialState = {\n  isAuthenticated: false,\n  loading: false,\n  user: null,\n  error: null,\n};\n\nconst sessionSlice = createSlice({\n  name: \"session\",\n  initialState,\n  reducers: {\n    connectSocket(state, action) {},\n    logout(state, action) {\n      state.isAuthenticated = false;\n      state.loading = false;\n      state.user = null;\n      state.error = null;\n    },\n  },\n  extraReducers: (builder) => {\n    builder\n      .addCase(login.pending, (state, action) => {\n        state.loading = true;\n        state.isAuthenticated = false;\n      })\n      .addCase(login.fulfilled, (state, action) => {\n        state.loading = false;\n        state.isAuthenticated = true;\n        state.user = action.payload;\n        state.error = null;\n      })\n      .addCase(login.rejected, (state, action) => {\n        state.loading = false;\n        state.isAuthenticated = false;\n        state.user = null;\n        state.error = action.payload;\n      })\n      .addCase(signup.pending, (state, action) => {\n        state.loading = true;\n      })\n      .addCase(signup.fulfilled, (state, action) => {\n        state.loading = false;\n        state.error = null;\n      })\n      .addCase(signup.rejected, (state, action) => {\n        state.loading = false;\n        state.error = action.payload;\n      });\n  },\n});\n\nexport const { connectSocket, logout } = sessionSlice.actions;\n\nexport default sessionSlice.reducer;\n","import React from \"react\";\n\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { FaBars, FaGithub, FaSignOutAlt, FaUserFriends } from \"react-icons/fa\";\nimport styled from \"styled-components\";\n\nimport ArrowTooltip from \"./ArrowTooltip\";\nimport Hashtag from \"./Hashtag\";\nimport List from \"./List\";\nimport { toggleSidebar } from \"../../reducers/sidebarReducer\";\nimport { toggleMemberList } from \"../../reducers/memberListReducer\";\nimport { logout } from \"../../reducers/sessionReducer\";\nimport { baseIcon, interactiveColor, hideInDesktop } from \"../../design/mixins\";\n\nconst Container = styled.div`\n  background-color: var(--background-primary);\n  border-bottom: 1px solid var(--background-tertiary);\n  height: 48px;\n  flex: 0 0 auto;\n  padding: 0 16px;\n  align-items: center;\n  display: flex;\n  justify-content: space-between;\n`;\n\nconst Heading = styled.h2`\n  font-size: 16px;\n  font-weight: 600;\n  color: var(--header-primary);\n`;\n\nconst IconWrapper = styled.button`\n  ${baseIcon};\n  ${interactiveColor};\n  background-color: transparent;\n\n  ${(p) => p.$isHamburger && hideInDesktop}\n`;\n\nconst IconButton = ({ children, href, ...delegated }) => {\n  const tag = href ? \"a\" : \"button\";\n  const type = tag === \"button\" ? \"button\" : undefined;\n\n  return (\n    <IconWrapper\n      as={tag}\n      type={type}\n      href={href}\n      size=\"22px\"\n      w=\"24px\"\n      {...delegated}\n    >\n      {children}\n    </IconWrapper>\n  );\n};\n\nconst Header = () => {\n  const dispatch = useDispatch();\n  const isMemberListOpen = useSelector((state) => state.memberList.isOpen);\n  const channels = useSelector((state) => state.channels);\n  const activeChannelName =\n    !channels.loading && channels.byId[channels.active]?.name;\n\n  return (\n    <Container id=\"header\" className=\"disable-select\">\n      <List horizontal={true} gap=\"10px\">\n        <IconButton onClick={() => dispatch(toggleSidebar())} $isHamburger>\n          <FaBars />\n        </IconButton>\n        <List horizontal={true} gap=\"6px\" style={{ alignItems: \"center\" }}>\n          <Hashtag size=\"22px\" w=\"24px\" />\n          <Heading>{!channels.loading && activeChannelName}</Heading>\n        </List>\n      </List>\n      <List horizontal={true} gap=\"16px\">\n        <ArrowTooltip title=\"GitHub Repo\">\n          <IconButton\n            href=\"https://github.com/kingyiusuen/discord-clone\"\n            target=\"blank\"\n          >\n            <FaGithub />\n          </IconButton>\n        </ArrowTooltip>\n        <ArrowTooltip\n          title={`${isMemberListOpen ? \"Hide\" : \"Show\"} Member list`}\n        >\n          <IconButton\n            onClick={() => dispatch(toggleMemberList())}\n            isActive={isMemberListOpen}\n          >\n            <FaUserFriends />\n          </IconButton>\n        </ArrowTooltip>\n        <ArrowTooltip title=\"Logout\">\n          <IconButton onClick={() => dispatch(logout())}>\n            <FaSignOutAlt />\n          </IconButton>\n        </ArrowTooltip>\n      </List>\n    </Container>\n  );\n};\n\nexport default Header;\n","import React from \"react\";\n\nimport styled from \"styled-components\";\n\nexport const Wrapper = styled.button.attrs((p) => ({ type: \"submit\" }))`\n  display: none;\n`;\n\nconst InvisibleSubmitButton = () => {\n  return <Wrapper></Wrapper>;\n};\n\nexport default InvisibleSubmitButton;\n","import styled from \"styled-components\";\n\nconst ChannelTextArea = styled.input`\n  border: 0;\n  border-radius: 8px;\n  background-color: var(--channeltextarea-background);\n  color: var(--text-normal);\n  font-size: 15px;\n  height: 44px;\n  outline: none;\n  padding-left: 14px;\n  width: 100%;\n\n  &::placeholder {\n    color: var(--text-muted);\n  }\n`;\n\nexport default ChannelTextArea;\n","import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\n\nimport * as channelAPI from \"../api/channel\";\n\nexport const loadMessages = createAsyncThunk(\n  \"chat/loadMessages\",\n  async (channelId, { rejectWithValue }) => {\n    try {\n      const response = await channelAPI.getMessages(channelId);\n      return response.data;\n    } catch (err) {\n      return rejectWithValue(err.response);\n    }\n  }\n);\n\nconst initialState = {\n  messages: { byId: {}, allIds: [], loading: true },\n  typingUser: null,\n};\n\nconst chatSlice = createSlice({\n  name: \"chat\",\n  initialState,\n  reducers: {\n    receiveNewMessage(state, action) {\n      const message = action.payload;\n      state.messages.byId[message.id] = message;\n      state.messages.allIds.push(message.id);\n    },\n    receiveEditedMessage(state, action) {\n      const message = action.payload;\n      state.messages.byId[message.id] = message;\n    },\n    receiveDeletedMessage(state, action) {\n      const message = action.payload;\n      delete state.messages.byId[message.id];\n      state.messages.allIds = state.messages.allIds.filter(\n        (id) => id !== message.id\n      );\n    },\n    sendMessage(state, action) {},\n    editMessage(state, action) {},\n    deleteMessage(state, action) {},\n    typing(state, action) {},\n    stopTyping(state, action) {},\n    updateTypingUser(state, action) {\n      state.typingUser = action.payload;\n    },\n  },\n  extraReducers: (builder) => {\n    builder\n      .addCase(loadMessages.pending, (state, action) => {\n        state.messages.loading = true;\n      })\n      .addCase(loadMessages.fulfilled, (state, action) => {\n        state.messages.byId = {};\n        state.messages.allIds = [];\n        state.messages.loading = false;\n        action.payload.forEach((message) => {\n          state.messages.byId[message.id] = message;\n          state.messages.allIds.push(message.id);\n        });\n      });\n  },\n});\n\nexport const {\n  setActiveChannel,\n  receiveNewMessage,\n  receiveEditedMessage,\n  receiveDeletedMessage,\n  updateOnlineUsers,\n  updateTypingUser,\n  editMessage,\n  sendMessage,\n  deleteMessage,\n  stopTyping,\n  typing,\n} = chatSlice.actions;\n\nexport default chatSlice.reducer;\n","import React from \"react\";\n\nimport { useDispatch, useSelector } from \"react-redux\";\nimport styled from \"styled-components\";\n\nimport InvisibleSubmitButton from \"./InvisibleSubmitButton\";\nimport ChannelTextArea from \"./ChannelTextArea\";\nimport { sendMessage, typing, stopTyping } from \"../../reducers/chatReducer\";\nimport { useActiveChannel } from \"../../hooks\";\n\nconst Container = styled.div`\n  background-color: var(--background-primary);\n  height: 68px;\n  padding: 0 16px;\n  flex: 0 0 auto;\n`;\n\nconst Form = styled.form``;\n\nconst TypingStatus = styled.span`\n  font-size: 12px;\n  font-weight: 500;\n  color: var(--text-normal);\n`;\n\nconst WriteArea = () => {\n  const dispatch = useDispatch();\n  const user = useSelector((state) => state.session.user);\n\n  const activeChannel = useActiveChannel();\n\n  let timeout = undefined;\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    const content = event.target.content.value;\n    if (content !== \"\") {\n      dispatch(sendMessage({ user, content, channelId: activeChannel.id }));\n      event.target.reset();\n    }\n  };\n\n  const typingUser = useSelector((state) => state.chat.typingUser);\n\n  // Detect whether the user is typing\n  const handleKeyUp = (event) => {\n    const enterKey = 13;\n    if (event.keyCode === enterKey) {\n      dispatch(stopTyping(user));\n    } else {\n      dispatch(typing(user));\n      clearTimeout(timeout);\n      timeout = setTimeout(() => dispatch(stopTyping(user)), 2000);\n    }\n  };\n\n  return (\n    <Container>\n      <Form onSubmit={handleSubmit}>\n        <ChannelTextArea\n          type=\"text\"\n          name=\"content\"\n          placeholder={`Message #${activeChannel?.name}`}\n          onKeyUp={handleKeyUp}\n        />\n        <InvisibleSubmitButton />\n      </Form>\n      <TypingStatus>\n        {typingUser && `${typingUser.username} is typing...`}\n      </TypingStatus>\n    </Container>\n  );\n};\n\nexport default WriteArea;\n","import React, { useEffect, useState } from \"react\";\n\nimport Modal from \"@mui/material/Modal\";\nimport styled from \"styled-components\";\nimport { format } from \"timeago.js\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { MdEdit } from \"react-icons/md\";\nimport { RiDeleteBin5Fill } from \"react-icons/ri\";\n\nimport ArrowTooltip from \"./ArrowTooltip\";\nimport Avatar from \"./Avatar\";\nimport ChannelTextArea from \"./ChannelTextArea\";\nimport InvisibleSubmitButton from \"./InvisibleSubmitButton\";\nimport { useActiveChannel } from \"../../hooks\";\nimport { baseIcon, interactiveColor } from \"../../design/mixins\";\nimport { deleteMessage, editMessage } from \"../../reducers/chatReducer\";\n\nconst MessageButtons = styled.div`\n  background-color: var(--background-primary);\n  border-radius: 4px;\n  border: 1px solid var(--background-secondary);\n  transition: 0.1s ease-in-out;\n  height: 32px;\n  width: 64px;\n  position: absolute;\n  top: -16px;\n  right: 16px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  display: none;\n\n  &:hover {\n    box-shadow: 0 0 0 1px rgba(4, 4, 5, 0.15);\n  }\n`;\n\nconst Container = styled.div`\n  display: flex;\n  margin: 8px 0;\n  padding: 8px 16px 12px 0;\n  position: relative;\n\n  &:hover {\n    background-color: #32353a;\n\n    ${MessageButtons} {\n      display: flex;\n    }\n  }\n`;\n\nconst AvatarWrapper = styled.div`\n  margin: 0 16px;\n\n  &:hover {\n    cursor: pointer;\n  }\n`;\n\nconst Header = styled.div`\n  display: flex;\n  align-items: center;\n  padding-bottom: 4px;\n`;\n\nconst Username = styled.a`\n  color: var(--header-primary);\n  font-size: 14px;\n  font-weight: 500;\n  margin-right: 8px;\n\n  &:hover {\n    text-decoration: underline;\n    cursor: pointer;\n  }\n`;\n\nconst Timestamp = styled.div`\n  color: var(--text-muted);\n  font-size: 12px;\n  cursor: default;\n`;\n\nconst Content = styled.div`\n  color: var(--text-normal);\n  font-size: 14px;\n`;\n\nconst IconWrapper = styled.button`\n  ${baseIcon};\n  ${interactiveColor};\n  background-color: transparent;\n\n  &:hover {\n    background-color: var(--background-modifier-hover);\n  }\n`;\n\nconst Operation = styled.span`\n  font-size: 12px;\n  color: var(--text-normal);\n\n  button {\n    background: transparent;\n    color: var(--text-link);\n    border: none;\n    font-size: 12px;\n\n    &:hover {\n      text-decoration: underline;\n    }\n  }\n`;\n\nconst PopupContainer = styled.div`\n  background-color: var(--background-primary);\n  color: var(--text-normal);\n  top: 50%;\n  left: 50%;\n  position: absolute;\n  transform: translateX(-50%) translateY(-50%);\n  width: 440px;\n  border-radius: 4px;\n  font-size: 15px;\n`;\n\nconst PopupMessageContainer = styled.div`\n  padding: 16px;\n\n  h2 {\n    padding-bottom: 16px;\n  }\n`;\n\nconst PopupButtonContainer = styled.div`\n  background-color: var(--background-secondary);\n  border-radius: 4px;\n  text-align: right;\n  padding: 12px 16px;\n`;\n\nconst CancelButton = styled.button`\n  color: white;\n  padding: 10px 24px;\n  margin: 0 8px;\n  background: transparent;\n  border: none;\n\n  &:hover {\n    text-decoration: underline;\n  }\n`;\n\nconst DeleteButton = styled.button`\n  color: white;\n  padding: 10px 24px;\n  border-radius: 4px;\n  border: none;\n  background-color: #f04444;\n\n  &:hover {\n    background-color: #c83434;\n  }\n`;\n\nconst IconButton = ({ children, ...delegated }) => {\n  return (\n    <IconWrapper as=\"button\" type=\"button\" size=\"20px\" w=\"32px\" {...delegated}>\n      {children}\n    </IconWrapper>\n  );\n};\n\nconst Message = ({ message, handleClick }) => {\n  const user = useSelector((state) => state.session.user);\n  const [showTextArea, setShowTextArea] = useState(false);\n  const dispatch = useDispatch();\n  const activeChannel = useActiveChannel();\n  const [openDeleteMessage, setOpenPopup] = useState(false);\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    const content = event.target.value;\n    console.log(content);\n    dispatch(\n      editMessage({\n        id: message.id,\n        channelId: activeChannel.id,\n        content,\n        user,\n      })\n    );\n  };\n\n  const handleDeleteButtonClick = () => {\n    dispatch(deleteMessage({ id: message.id, channelId: activeChannel.id }));\n  };\n\n  useEffect(() => {\n    if (!showTextArea) {\n      return;\n    }\n\n    const onKeyDown = (event) => {\n      const enterKey = 13;\n      const escapeKey = 27;\n      if (event.keyCode === enterKey) {\n        handleSubmit(event);\n        setShowTextArea(false);\n      } else if (event.keyCode === escapeKey) {\n        event.preventDefault();\n        setShowTextArea(false);\n      }\n    };\n\n    document.addEventListener(\"keydown\", onKeyDown);\n    return () => document.removeEventListener(\"keydown\", onKeyDown);\n  });\n\n  const handleOpenPopup = () => setOpenPopup(true);\n  const handleClosePopup = () => setOpenPopup(false);\n\n  return (\n    <Container>\n      <AvatarWrapper onClick={handleClick}>\n        <Avatar size=\"27px\" w=\"40px\" bgColor={message.user.avatarColor} />\n      </AvatarWrapper>\n      <div style={{ width: \"100%\" }}>\n        <Header>\n          <Username onClick={handleClick}>{message.user.username}</Username>\n          <Timestamp>\n            {format(message.createdAt)}\n            {message.updatedAt ? \" (edited)\" : \"\"}\n          </Timestamp>\n        </Header>\n        {showTextArea ? (\n          <>\n            <form onSubmit={handleSubmit}>\n              <ChannelTextArea\n                type=\"text\"\n                name=\"content\"\n                defaultValue={message.content}\n              />\n              <Operation>\n                escape to{\" \"}\n                <button onClick={() => setShowTextArea(false)}>cancel</button> •\n                enter to <button>save</button>\n              </Operation>\n              <InvisibleSubmitButton />\n            </form>\n          </>\n        ) : (\n          <Content>{message.content}</Content>\n        )}\n      </div>\n\n      {user.id === message.user.id && (\n        <>\n          <MessageButtons>\n            <ArrowTooltip title=\"Edit\" placement=\"top\">\n              <IconButton onClick={() => setShowTextArea(true)}>\n                <MdEdit />\n              </IconButton>\n            </ArrowTooltip>\n            <ArrowTooltip title=\"Delete\" placement=\"top\">\n              <IconButton onClick={handleOpenPopup}>\n                <RiDeleteBin5Fill />\n              </IconButton>\n            </ArrowTooltip>\n          </MessageButtons>\n\n          <Modal open={openDeleteMessage} onClose={handleClosePopup}>\n            <PopupContainer className=\"disable-select\">\n              <PopupMessageContainer>\n                <h2>Delete Message</h2>\n                Are you sure you want to delete this message?\n              </PopupMessageContainer>\n              <PopupButtonContainer>\n                <CancelButton onClick={handleClosePopup}>Cancel</CancelButton>\n                <DeleteButton onClick={handleDeleteButtonClick}>\n                  Delete\n                </DeleteButton>\n              </PopupButtonContainer>\n            </PopupContainer>\n          </Modal>\n        </>\n      )}\n    </Container>\n  );\n};\n\nexport default Message;\n","import React from \"react\";\n\nimport styled from \"styled-components\";\nimport Popover from \"@mui/material/Popover\";\n\nimport Avatar, { GreenDotWrapper } from \"./Avatar\";\nimport InvisibleSubmitButton from \"./InvisibleSubmitButton\";\n\nconst StyledPopover = styled(Popover)`\n  & .MuiPopover-paper {\n    border-radius: 8px;\n    background-color: var(--background-floating);\n    transition-duration: 0s !important;\n  }\n`;\n\nconst Banner = styled.div`\n  background-color: ${(p) => p.bgColor};\n  width: 300px;\n  height: 60px;\n`;\n\nconst AvatarWrapper = styled.div`\n  position: absolute;\n  top: 16px;\n  left: 16px;\n\n  & ${GreenDotWrapper} {\n    padding: 0px;\n    font-size: 28px;\n    height: 30px;\n    width: 30px;\n    right: -2px;\n    bottom: 2px;\n    background-color: var(--background-floating);\n  }\n`;\n\nconst Header = styled.div`\n  padding: 64px 16px 16px;\n  overflow: hidden;\n  position: relative;\n  display: block;\n`;\n\nconst Divider = styled.div`\n  height: 1px;\n  background-color: var(--background-modifier-accent);\n  margin-bottom: 12px;\n`;\n\nconst Content = styled.div`\n  padding: 0 16px 16px 16px;\n`;\n\nconst Username = styled.span`\n  color: var(--interactive-active);\n  font-weight: 600;\n  font-size: 24px;\n`;\n\nconst Footer = styled.div`\n  padding: 0 16px 16px;\n`;\n\nconst Note = styled.div`\n  font-size: 13px;\n  color: var(--text-normal);\n  padding-bottom: 8px;\n`;\n\nconst Input = styled.input`\n  background-color: var(--background-secondary-alt);\n  font-size: 14px;\n  padding: 10px;\n  height: 40px;\n  width: 100%;\n  border-radius: 3px;\n  border: 1px solid var(--background-secondary-alt);\n  outline: none;\n  color: var(--text-muted);\n  transition: border-color 0.2s ease-in-out;\n\n  &:focus {\n    outline: none;\n    border: 1px solid #00b0f4;\n  }\n`;\n\nconst UserPopover = ({ user, setShowPopover, ...delegated }) => {\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    const content = event.target.content.value;\n    if (content !== \"\") {\n      event.target.reset();\n      setShowPopover(false);\n    }\n  };\n\n  return (\n    <StyledPopover {...delegated}>\n      <Banner bgColor={user.avatarColor}></Banner>\n      <AvatarWrapper>\n        <Avatar\n          size=\"52px\"\n          w=\"90px\"\n          border=\"6px solid var(--background-floating)\"\n          bgColor={user.avatarColor}\n        />\n      </AvatarWrapper>\n      <Header>\n        <Username>{user.username}</Username>\n      </Header>\n      <Content>\n        <Divider></Divider>\n      </Content>\n      <Footer>\n        <Note>Direct messaging is not implemented!</Note>\n        <form onSubmit={handleSubmit}>\n          <Input\n            type=\"text\"\n            name=\"content\"\n            placeholder={`message @${user.username}`}\n          />\n          <InvisibleSubmitButton />\n        </form>\n      </Footer>\n    </StyledPopover>\n  );\n};\n\nexport default UserPopover;\n","import React, { useEffect, useRef } from \"react\";\n\nimport { useSelector } from \"react-redux\";\nimport styled from \"styled-components\";\n\nimport Message from \"./Message\";\nimport Hashtag from \"./Hashtag\";\nimport UserPopover from \"./UserPopover\";\nimport { useActiveChannel, usePopover } from \"../../hooks\";\n\nconst Wrapper = styled.div`\n  background-color: var(--background-primary);\n  display: flex;\n  flex: 1;\n  overflow: hidden scroll;\n  height: calc(100vh - 48px - 68px);\n`;\n\nconst Container = styled.div`\n  margin-top: auto;\n  width: 100%;\n`;\n\nconst HeaderContainer = styled.div`\n  margin: 16px 16px 4px 16px;\n`;\n\nconst PrimaryHeading = styled.h1`\n  color: var(--header-primary);\n  margin-top: 12px;\n  margin-bottom: 4px;\n`;\n\nconst SecondaryHeading = styled.h2`\n  color: var(--header-secondary);\n  margin-bottom: 16px;\n  font-size: 14px;\n  font-weight: 400;\n`;\n\nconst Divider = styled.hr`\n  border: 0;\n  border-top: 1px solid var(--channeltextarea-background);\n  width: 100%;\n`;\n\nconst ContainerBottom = styled.div``;\n\nconst Messages = () => {\n  const activeChannel = useActiveChannel();\n\n  const messages = useSelector((state) => state.chat.messages);\n  const hasMessages = messages.allIds.length > 0;\n\n  // Scroll to bottom of the chat history whenever there is a new message\n  const containerBottomRef = useRef(null);\n  useEffect(() => {\n    containerBottomRef.current.scrollIntoView(false);\n  }, [messages.allIds, containerBottomRef]);\n\n  const [\n    user,\n    anchorEl,\n    showPopover,\n    setShowPopover,\n    handleClick,\n    handleClickAway,\n  ] = usePopover();\n\n  return (\n    <Wrapper className=\"scrollable\">\n      <Container>\n        <HeaderContainer className=\"disable-select\">\n          <Hashtag\n            size=\"36px\"\n            w=\"68px\"\n            color=\"white\"\n            bgColor=\"var(--background-accent)\"\n          />\n          <PrimaryHeading>Welcome to #{activeChannel?.name}!</PrimaryHeading>\n          <SecondaryHeading>\n            This is the start of #{activeChannel?.name}.\n          </SecondaryHeading>\n          {hasMessages && <Divider />}\n        </HeaderContainer>\n        {hasMessages &&\n          messages.allIds.map((id) => (\n            <Message\n              key={id}\n              message={messages.byId[id]}\n              handleClick={(event) =>\n                handleClick(event, messages.byId[id].user)\n              }\n            />\n          ))}\n        <ContainerBottom ref={containerBottomRef}></ContainerBottom>\n        <UserPopover\n          open={showPopover}\n          anchorEl={anchorEl}\n          onClose={handleClickAway}\n          anchorOrigin={{ vertical: \"bottom\", horizontal: \"right\" }}\n          user={user}\n          setShowPopover={setShowPopover}\n        />\n      </Container>\n    </Wrapper>\n  );\n};\n\nexport default Messages;\n","import React from \"react\";\n\nimport styled from \"styled-components\";\n\nimport WriteArea from \"./WriteArea\";\nimport Messages from \"./Messages\";\n\nconst Container = styled.div`\n  background-color: white;\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  height: calc(100vh - 48px);\n  overflow: hidden;\n`;\n\nconst ChatArea = () => {\n  return (\n    <Container id=\"chat-area\">\n      <Messages />\n      <WriteArea />\n    </Container>\n  );\n};\n\nexport default ChatArea;\n","import React from \"react\";\n\nimport { useSelector } from \"react-redux\";\nimport styled from \"styled-components\";\n\nimport Avatar from \"./Avatar\";\nimport List from \"./List\";\nimport ListItem from \"./ListItem\";\nimport UserPopover from \"./UserPopover\";\nimport { usePopover } from \"../../hooks\";\n\nconst Container = styled.div`\n  background-color: var(--background-secondary);\n  width: 240px;\n  flex: 0 0 auto;\n  height: calc(100vh - 48px);\n  overflow: hidden scroll;\n  text-overflow: ellipsis;\n  padding: 10px 2px 10px 12px;\n\n  @media (max-width: 768px) {\n    height: 100vh;\n  }\n`;\n\nconst Heading = styled.h3`\n  font-size: 13px;\n  font-weight: 500;\n  margin: 8px 8px 4px 8px;\n  color: var(--channels-default);\n  text-transform: uppercase;\n`;\n\nconst MemberList = ({ isMobile }) => {\n  const users = useSelector((state) => state.memberList.onlineUsers);\n  const [\n    user,\n    anchorEl,\n    showPopover,\n    setShowPopover,\n    handleClick,\n    handleClickAway,\n  ] = usePopover();\n\n  return (\n    <Container>\n      <Heading className=\"disable-select\">online — {users.length}</Heading>\n      <List gap=\"2px\">\n        {users.map((user) => (\n          <ListItem\n            key={user.id}\n            icon={\n              <Avatar\n                size=\"21px\"\n                w=\"32px\"\n                bgColor={user.avatarColor}\n                status=\"online\"\n              />\n            }\n            text={user.username}\n            style={{ gap: \"12px\", padding: \"6px 8px\" }}\n            onClick={(event) => handleClick(event, user)}\n          />\n        ))}\n      </List>\n      <UserPopover\n        open={showPopover}\n        anchorEl={anchorEl}\n        onClose={handleClickAway}\n        anchorOrigin={{ vertical: \"center\", horizontal: \"left\" }}\n        transformOrigin={{ vertical: \"top\", horizontal: \"right\" }}\n        user={user}\n        setShowPopover={setShowPopover}\n      />\n    </Container>\n  );\n};\n\nexport default MemberList;\n","import React, { useEffect } from \"react\";\n\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useParams } from \"react-router-dom\";\n\nimport Drawer from \"@mui/material/Drawer\";\nimport styled, { css } from \"styled-components\";\n\nimport Sidebar from \"./Sidebar\";\nimport Header from \"./Header\";\nimport ChatArea from \"./ChatArea\";\nimport MemberList from \"./MemberList\";\nimport { hideInDesktop } from \"../../design/mixins\";\nimport { useWindowWidth } from \"../../hooks\";\nimport { loadMessages } from \"../../reducers/chatReducer\";\nimport { setActiveChannel } from \"../../reducers/channelsReducer\";\nimport { toggleSidebar } from \"../../reducers/sidebarReducer\";\nimport { toggleMemberList } from \"../../reducers/memberListReducer\";\n\nconst Container = styled.div`\n  display: grid;\n  grid-template-columns: 312px 1fr;\n  grid-template-rows: 48px 1fr;\n  grid-template-areas:\n    \"sidebar header\"\n    \"sidebar chat-area\";\n\n  ${(p) =>\n    p.$isMemberListOpen &&\n    css`\n      grid-template-columns: 312px 1fr 240px;\n      grid-template-areas:\n        \"sidebar header header\"\n        \"sidebar chat-area member-list\";\n    `}\n\n  @media (max-width: 768px) {\n    grid-template-columns: 1fr;\n    grid-template-areas:\n      \"header\"\n      \"chat-area\";\n  }\n\n  #sidebar {\n    grid-area: sidebar;\n  }\n\n  #header {\n    grid-area: header;\n  }\n\n  #chat-area {\n    grid-area: chat-area;\n  }\n\n  #member-list {\n    grid-area: member-list;\n  }\n`;\n\nconst MobileDrawer = styled(Drawer)`\n  ${hideInDesktop}\n`;\n\nconst DesktopItem = styled.div`\n  display: ${(p) => (p.$isOpen ? \"block\" : \"none\")};\n\n  @media (max-width: 768px) {\n    display: none;\n  }\n`;\n\nconst ResponsiveSidebar = () => {\n  const dispatch = useDispatch();\n  const isSidebarOpen = useSelector((state) => state.sidebar.isOpen);\n\n  return (\n    <nav id=\"sidebar\">\n      <MobileDrawer\n        anchor=\"left\"\n        variant=\"temporary\"\n        open={isSidebarOpen}\n        onClose={() => dispatch(toggleSidebar())}\n        ModalProps={{ keepMounted: true }}\n      >\n        <Sidebar />\n      </MobileDrawer>\n      <DesktopItem $isOpen>\n        <Sidebar />\n      </DesktopItem>\n    </nav>\n  );\n};\n\nconst ResponsiveMemberList = () => {\n  const dispatch = useDispatch();\n  const isMemberListOpen = useSelector((state) => state.memberList.isOpen);\n  const isInDesktop = useWindowWidth() > 768;\n\n  return (\n    <div id=\"member-list\">\n      <MobileDrawer\n        anchor=\"right\"\n        variant=\"temporary\"\n        open={isMemberListOpen && !isInDesktop}\n        onClose={() => dispatch(toggleMemberList())}\n        ModalProps={{ keepMounted: true }}\n      >\n        <MemberList />\n      </MobileDrawer>\n      <DesktopItem $isOpen={isMemberListOpen && isInDesktop}>\n        <MemberList />\n      </DesktopItem>\n    </div>\n  );\n};\n\nconst Dashboard = () => {\n  const isMemberListOpen = useSelector((state) => state.memberList.isOpen);\n\n  const params = useParams();\n  const activeChannelId = parseInt(params.channel);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(setActiveChannel(activeChannelId));\n    dispatch(loadMessages(activeChannelId));\n  }, [activeChannelId, dispatch]);\n\n  return (\n    <Container $isMemberListOpen={isMemberListOpen}>\n      <ResponsiveSidebar />\n      <Header />\n      <ChatArea />\n      <ResponsiveMemberList />\n    </Container>\n  );\n};\n\nexport default Dashboard;\n","import styled from \"styled-components\";\n\nconst Label = styled.label`\n  color: ${(p) => (p.error ? \"var(--text-danger)\" : \"var(--header-secondary)\")};\n  font-weight: 500;\n  text-transform: uppercase;\n  padding: 8px 0;\n`;\n\nexport default Label;\n","import styled from \"styled-components\";\n\nconst Form = styled.form`\n  display: flex;\n  flex-direction: column;\n  font-size: 13px;\n  padding: 12px 0;\n  width: 400px;\n\n  @media (max-width: 550px) {\n    width: 100%;\n  }\n`;\n\nexport default Form;\n","import styled from \"styled-components\";\n\nconst Select = styled.select`\n  margin-top: 6px;\n  margin-bottom: 12px;\n  padding: 10px 8px 8px 12px;\n  background-color: var(--background-secondary);\n  border: 1px solid var(--background-secondary-alt);\n  color: var(--text-normal);\n  font-size: 14px;\n  border-radius: 5px;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  appearance: none;\n\n  &:focus {\n    outline: none;\n  }\n\n  /* https://codepen.io/vkjgr/pen/VYMeXp */\n  background-image: linear-gradient(45deg, transparent 50%, gray 50%),\n    linear-gradient(135deg, gray 50%, transparent 50%);\n  background-position: calc(100% - 20px) calc(1em + 2px),\n    calc(100% - 15px) calc(1em + 2px);\n  background-size: 5px 5px, 5px 5px;\n  background-repeat: no-repeat;\n\n  &:-moz-focusring {\n    color: transparent;\n    text-shadow: 0 0 0 #000;\n  }\n`;\n\nexport default Select;\n","import React from \"react\";\n\nimport styled from \"styled-components\";\nimport { FaDiscord } from \"react-icons/fa\";\n\nconst Wrapper = styled.div`\n  display: flex;\n  align-items: center;\n  background-color: var(--brand);\n  min-height: 100vh;\n  width: 100%;\n  color: var(--text-muted);\n  justify-content: center;\n\n  a {\n    color: var(--text-link);\n    font-size: 13px;\n\n    &:hover {\n      text-decoration: underline;\n    }\n  }\n`;\n\nconst Container = styled.div`\n  padding: 28px;\n  background-color: var(--background-primary);\n  box-shadow: 0 2px 10px 0 rgba(0, 0, 0, 0.2);\n  border-radius: 5px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n\n  @media only screen and (max-width: 550px) {\n    padding: 16px;\n    min-height: 100vh;\n    min-width: 100vw;\n    border-radius: 0;\n    justify-content: flex-start;\n  }\n`;\n\nconst Header = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  text-align: center;\n  font-size: 40px;\n  color: white;\n  margin-bottom: 20px;\n`;\n\nconst Heading = styled.h1`\n  color: var(--header-primary);\n  font-size: 24px;\n  font-weight: 500;\n`;\n\nconst Layout = ({ heading, children }) => {\n  return (\n    <Wrapper className=\"disable-select\">\n      <Container>\n        <Header>\n          <FaDiscord />\n        </Header>\n        <Heading>{heading}</Heading>\n        {children}\n      </Container>\n    </Wrapper>\n  );\n};\n\nexport default Layout;\n","import styled from \"styled-components\";\n\nconst SubmitButton = styled.button.attrs(() => ({ type: \"submit\" }))`\n  background-color: rgb(88, 101, 242);\n  border: 0;\n  border-radius: 4px;\n  padding: 12px 8px;\n  margin: 16px 0 12px 0;\n  color: white;\n  font-size: 14px;\n  font-weight: 500;\n  font-family: inherit;\n\n  &:hover {\n    background-color: rgb(71, 82, 196);\n    cursor: pointer;\n  }\n`;\n\nexport default SubmitButton;\n","import React, { useEffect } from \"react\";\n\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useNavigate } from \"react-router\";\nimport { Link } from \"react-router-dom\";\nimport styled from \"styled-components\";\n\nimport { login, connectSocket } from \"../../reducers/sessionReducer\";\nimport { loadChannels } from \"../../reducers/channelsReducer\";\nimport Label from \"./Label.js\";\nimport Form from \"./Form.js\";\nimport Select from \"./Select.js\";\nimport Layout from \"./Layout.js\";\nimport SubmitButton from \"./SubmitButton.js\";\n\nconst Description = styled.div`\n  color: var(--text-normal);\n  margin: 16px 0;\n  padding: 8px 0;\n`;\n\nconst DemoLoginPage = () => {\n  const dispatch = useDispatch();\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    const username = event.target.username.value;\n    dispatch(login({ username, password: username }));\n  };\n\n  const navigate = useNavigate();\n  const session = useSelector((state) => state.session);\n  useEffect(() => {\n    if (session.isAuthenticated) {\n      dispatch(connectSocket(session.user));\n      dispatch(loadChannels());\n      navigate(\"/channels/1\");\n    }\n  }, [dispatch, navigate, session]);\n\n  return (\n    <Layout heading=\"Fooncord\">\n      <Form onSubmit={handleSubmit}>\n        <Description>\n          To visitors: You can open this website in multiple tabs and sign in\n          with a different account in each tab.\n        </Description>\n        <span className=\"errorMessage\" style={{ textAlign: \"center\" }}>\n          {session.error}\n        </span>\n        <Label htmlFor=\"username\">Username</Label>\n        <Select name=\"username\" id=\"username\" defaultValue=\"john.doe\">\n          <option value=\"john_doe\">john_doe</option>\n          <option value=\"jane_doe\">jane_doe</option>\n          <option value=\"guest123\">guest123</option>\n          <option value=\"programmer\">programmer</option>\n        </Select>\n        <SubmitButton>Login</SubmitButton>\n        <div>\n          Want your own account? <Link to=\"/signup\">Register</Link>\n        </div>\n        <div>\n          Already have an account? <Link to=\"/login\">Login</Link>\n        </div>\n      </Form>\n    </Layout>\n  );\n};\n\nexport default DemoLoginPage;\n","import styled from \"styled-components\";\n\nconst Input = styled.input`\n  background-color: rgba(0, 0, 0, 0.1);\n  font-size: 14px;\n  padding: 10px;\n  margin-bottom: 12px;\n  height: 40px;\n  width: 100%;\n  border-radius: 3px;\n  border: 1px solid\n    ${(p) => (p.error ? \"var(--text-danger)\" : \"rgba(0, 0, 0, 0.3)\")};\n  outline: none;\n  color: var(--text-normal);\n  transition: border-color 0.2s ease-in-out;\n\n  &:focus {\n    outline: none;\n    border: 1px solid ${(p) => (p.error ? \"var(--text-danger)\" : \"#00B0F4\")};\n  }\n`;\n\nexport default Input;\n","import React, { useEffect, useState } from \"react\";\n\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useNavigate } from \"react-router\";\nimport { Link } from \"react-router-dom\";\n\nimport Form from \"./Form\";\nimport Input from \"./Input\";\nimport Label from \"./Label\";\nimport Layout from \"./Layout\";\nimport SubmitButton from \"./SubmitButton\";\nimport { login, connectSocket } from \"../../reducers/sessionReducer\";\nimport { loadChannels } from \"../../reducers/channelsReducer\";\n\nconst LoginPage = () => {\n  const [usernameError, setUsernameError] = useState(\"\");\n  const [passwordError, setPasswordError] = useState(\"\");\n\n  const dispatch = useDispatch();\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    const username = event.target.username.value;\n    const password = event.target.password.value;\n    if (!username) {\n      setUsernameError(\"This field is required\");\n    }\n    if (!password) {\n      setPasswordError(\"This field is required\");\n    }\n    if (username && password) {\n      dispatch(login({ username, password }));\n      setUsernameError(\"\");\n      setPasswordError(\"\");\n    }\n  };\n\n  const navigate = useNavigate();\n  const session = useSelector((state) => state.session);\n  useEffect(() => {\n    if (session.isAuthenticated) {\n      dispatch(connectSocket(session.user));\n      dispatch(loadChannels());\n      navigate(\"/channels/1\");\n    }\n  }, [dispatch, navigate, session]);\n\n  return (\n    <Layout heading=\"Welcome back!\">\n      <Form onSubmit={handleSubmit}>\n        <span className=\"errorMessage\" style={{ textAlign: \"center\" }}>\n          {session.error}\n        </span>\n        <Label error={usernameError}>\n          Username\n          {usernameError && (\n            <span className=\"errorMessage\"> - {usernameError}</span>\n          )}\n        </Label>\n        <Input type=\"text\" name=\"username\" error={usernameError} />\n        <Label error={passwordError}>\n          Password\n          {passwordError && (\n            <span className=\"errorMessage\"> - {passwordError}</span>\n          )}\n        </Label>\n        <Input type=\"password\" name=\"password\" error={passwordError} />\n        <SubmitButton>Login</SubmitButton>\n        <div>\n          Need an account? <Link to=\"/\">Use a demo account</Link> or{\" \"}\n          <Link to=\"/signup\">Register</Link>\n        </div>\n      </Form>\n    </Layout>\n  );\n};\n\nexport default LoginPage;\n","import React, { useEffect, useState } from \"react\";\n\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useNavigate } from \"react-router\";\nimport { Link } from \"react-router-dom\";\n\nimport SubmitButton from \"./SubmitButton\";\nimport Layout from \"./Layout\";\nimport Label from \"./Label\";\nimport Input from \"./Input\";\nimport Form from \"./Form\";\nimport { signup, connectSocket } from \"../../reducers/sessionReducer\";\nimport { loadChannels } from \"../../reducers/channelsReducer\";\n\nconst SignupPage = () => {\n  const [usernameError, setUsernameError] = useState(\"\");\n  const [passwordError, setPasswordError] = useState(\"\");\n  const dispatch = useDispatch();\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    const username = event.target.username.value;\n    const password = event.target.password.value;\n    let noValidationError = true;\n    setUsernameError(\"\");\n    setPasswordError(\"\");\n    if (!username) {\n      setUsernameError(\"This field is required\");\n      noValidationError = false;\n    } else if (username.length < 2 || username.length > 32) {\n      setUsernameError(\"Must be between 2 and 32 in length\");\n      noValidationError = false;\n    }\n    if (!password) {\n      setPasswordError(\"This field is required\");\n      noValidationError = false;\n    } else if (password.length < 6 || password.length > 72) {\n      setPasswordError(\"Must be between 6 and 72 in length\");\n      noValidationError = false;\n    }\n    if (noValidationError) {\n      dispatch(signup({ username, password }));\n    }\n  };\n\n  const navigate = useNavigate();\n  const session = useSelector((state) => state.session);\n  useEffect(() => {\n    if (session.isAuthenticated) {\n      dispatch(connectSocket(session.user));\n      dispatch(loadChannels());\n      navigate(\"/channels/1\");\n    }\n  }, [dispatch, navigate, session]);\n\n  return (\n    <Layout heading=\"Create an Account\">\n      <Form onSubmit={handleSubmit}>\n        <span className=\"errorMessage\" style={{ textAlign: \"center\" }}>\n          {session.error}\n        </span>\n        <Label error={usernameError}>\n          Username\n          {usernameError && (\n            <span className=\"errorMessage\"> - {usernameError}</span>\n          )}\n        </Label>\n        <Input type=\"text\" name=\"username\" error={usernameError} />\n        <Label error={passwordError}>\n          Password\n          {passwordError && (\n            <span className=\"errorMessage\"> - {passwordError}</span>\n          )}\n        </Label>\n        <Input type=\"password\" name=\"password\" error={passwordError} />\n        <SubmitButton>Register</SubmitButton>\n        <div>\n          Don't want to register? <Link to=\"/\">Use a demo account</Link>\n        </div>\n        <div>\n          Already have an account? <Link to=\"/login\">Login</Link>\n        </div>\n      </Form>\n    </Layout>\n  );\n};\n\nexport default SignupPage;\n","import React from \"react\";\n\nimport { useSelector } from \"react-redux\";\nimport { Navigate } from \"react-router-dom\";\n\nexport const RequireAuth = ({ children }) => {\n  const isAuthenticated = useSelector((state) => state.session.isAuthenticated);\n  return isAuthenticated ? children : <Navigate to=\"/\" />;\n};\n","import React from \"react\";\n\nimport { BrowserRouter, Route, Routes } from \"react-router-dom\";\n\nimport Dashboard from \"./components/dashboard/Dashboard\";\nimport DemoLoginPage from \"./components/authForm/DemoLoginPage\";\nimport LoginPage from \"./components/authForm/LoginPage\";\nimport SignupPage from \"./components/authForm/SignupPage\";\nimport { RequireAuth } from \"./routes\";\n\nconst App = () => {\n  return (\n    <BrowserRouter>\n      <Routes>\n        <Route path=\"/\" element={<DemoLoginPage />} />\n        <Route path=\"/login\" element={<LoginPage />} />\n        <Route path=\"/signup\" element={<SignupPage />} />\n        <Route\n          path=\"/channels/:channel\"\n          element={\n            <RequireAuth>\n              <Dashboard />\n            </RequireAuth>\n          }\n        />\n      </Routes>\n    </BrowserRouter>\n  );\n};\n\nexport default App;\n","import io from \"socket.io-client\";\n\nimport {\n  receiveNewMessage,\n  receiveEditedMessage,\n  receiveDeletedMessage,\n  updateTypingUser,\n} from \"../reducers/chatReducer\";\nimport { updateOnlineUsers } from \"../reducers/memberListReducer\";\n\nconst socketMiddleware = () => {\n  return (storeAPI) => {\n    // This part is called when the Redux store is created\n    const socket = io(\"/\", { autoConnect: false });\n\n    socket.on(\"send-message\", (message) => {\n      storeAPI.dispatch(receiveNewMessage(message));\n    });\n\n    socket.on(\"edit-message\", (message) => {\n      storeAPI.dispatch(receiveEditedMessage(message));\n    });\n\n    socket.on(\"delete-message\", (message) => {\n      storeAPI.dispatch(receiveDeletedMessage(message));\n    });\n\n    socket.on(\"update-member-list\", (user) => {\n      storeAPI.dispatch(updateOnlineUsers(user));\n    });\n\n    socket.on(\"typing\", (user) => {\n      storeAPI.dispatch(updateTypingUser(user));\n    });\n\n    socket.on(\"stop-typing\", (user) => {\n      storeAPI.dispatch(updateTypingUser(null));\n    });\n\n    // This part is called when an action is dispatched\n    return (next) => (action) => {\n      switch (action.type) {\n        case \"channels/setActiveChannel\":\n          socket.emit(\"set-active-channel\", JSON.stringify(action.payload));\n          break;\n        case \"chat/sendMessage\":\n          socket.emit(\"send-message\", action.payload);\n          break;\n        case \"chat/editMessage\":\n          socket.emit(\"edit-message\", action.payload);\n          break;\n        case \"chat/deleteMessage\":\n          socket.emit(\"delete-message\", action.payload);\n          break;\n        case \"chat/typing\":\n          socket.emit(\"typing\", action.payload);\n          break;\n        case \"chat/stopTyping\":\n          socket.emit(\"stop-typing\", action.payload);\n          break;\n        case \"session/connectSocket\":\n          socket.connect();\n          socket.emit(\"new-client\", action.payload);\n          break;\n        case \"session/logout\":\n          socket.close();\n          break;\n        default:\n          break;\n      }\n      return next(action);\n    };\n  };\n};\n\nexport default socketMiddleware();\n","import { configureStore } from \"@reduxjs/toolkit\";\n\nimport socketMiddleware from \"./middleware/socketMiddleware\";\nimport chatReducer from \"./reducers/chatReducer\";\nimport channelsReducer from \"./reducers/channelsReducer\";\nimport sessionReducer from \"./reducers/sessionReducer\";\nimport sidebarReducer from \"./reducers/sidebarReducer\";\nimport memberListReducer from \"./reducers/memberListReducer\";\n\nconst store = configureStore({\n  reducer: {\n    chat: chatReducer,\n    channels: channelsReducer,\n    session: sessionReducer,\n    sidebar: sidebarReducer,\n    memberList: memberListReducer,\n  },\n  middleware: (getDefaultMiddleware) =>\n    getDefaultMiddleware({ serializableCheck: false }).concat(socketMiddleware),\n});\n\nexport default store;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport { Provider } from \"react-redux\";\n\nimport \"./index.css\";\nimport App from \"./App\";\nimport store from \"./store\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}